"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_src_components_GameCanvas_tsx"],{

/***/ "(app-pages-browser)/./src/components/GameCanvas.tsx":
/*!***************************************!*\
  !*** ./src/components/GameCanvas.tsx ***!
  \***************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ GameCanvas; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _game_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/game/constants */ \"(app-pages-browser)/./src/game/constants.ts\");\n/* harmony import */ var _game_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/game/store */ \"(app-pages-browser)/./src/game/store.ts\");\n/* harmony import */ var _game_collision__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/game/collision */ \"(app-pages-browser)/./src/game/collision.ts\");\n/* harmony import */ var _game_renderer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/game/renderer */ \"(app-pages-browser)/./src/game/renderer.ts\");\n/* harmony import */ var _game_sprites__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/game/sprites */ \"(app-pages-browser)/./src/game/sprites.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n/**\r\n * üéÆ GameCanvas ‚Äî Ê†∏ÂøÉÊ∏∏ÊàèÁîªÂ∏É\r\n *\r\n * 1. Âä†ËΩΩËÉåÊôØÂõæ ‚Üí È¢ÑÊ∏≤ÊüìËÉåÊôØ\r\n * 2. Canvas Ê∏∏ÊàèÂæ™ÁéØ (requestAnimationFrame)\r\n * 3. WASD / ÊñπÂêëÈîÆÁßªÂä® + ÈÄêÊ†ºÁ¢∞ÊíûÊ£ÄÊµã\r\n * 4. E ÈîÆ‰∫íÂä®\r\n * 5. Ê∞õÂõ¥ÂÖâÁÖß\r\n */ \n\n\n\n\n\nfunction GameCanvas() {\n    _s();\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const keysRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Set());\n    const animTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const resRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        background: null,\n        foreground: null,\n        foregroundRows: [],\n        frameOverlay: null,\n        playerSprite: null,\n        loaded: false\n    });\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const store = _game_store__WEBPACK_IMPORTED_MODULE_3__.useGameStore;\n    // ==================== Âä†ËΩΩËµÑÊ∫ê ====================\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        (0,_game_sprites__WEBPACK_IMPORTED_MODULE_6__.loadAllResources)(_game_constants__WEBPACK_IMPORTED_MODULE_2__.MAP_COLS, _game_constants__WEBPACK_IMPORTED_MODULE_2__.MAP_ROWS, _game_constants__WEBPACK_IMPORTED_MODULE_2__.TILE_SIZE).then((res)=>{\n            resRef.current = res;\n            setLoading(false);\n            console.log(\"‚úÖ ÊâÄÊúâËµÑÊ∫êÂä†ËΩΩÂÆåÊØï, ËÉåÊôØÂ∑≤È¢ÑÊ∏≤Êüì\");\n        });\n    }, []);\n    // ==================== ÈîÆÁõòÁõëÂê¨ ====================\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleKeyDown = (e)=>{\n            const key = e.key.toLowerCase();\n            keysRef.current.add(key);\n            if (key === \"e\" && !store.getState().activeModal) {\n                const nearby = (0,_game_collision__WEBPACK_IMPORTED_MODULE_4__.findNearbyInteractable)(store.getState().playerX, store.getState().playerY);\n                if (nearby) {\n                    store.getState().openModal(nearby.type, nearby.id);\n                }\n            }\n        };\n        const handleKeyUp = (e)=>{\n            keysRef.current.delete(e.key.toLowerCase());\n        };\n        window.addEventListener(\"keydown\", handleKeyDown);\n        window.addEventListener(\"keyup\", handleKeyUp);\n        return ()=>{\n            window.removeEventListener(\"keydown\", handleKeyDown);\n            window.removeEventListener(\"keyup\", handleKeyUp);\n        };\n    }, [\n        store\n    ]);\n    // ==================== Ê∏∏Êàè‰∏ªÂæ™ÁéØ ====================\n    const gameLoop = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) return;\n        const state = store.getState();\n        const now = performance.now();\n        // ---- Êõ¥Êñ∞ÈÄªËæë ----\n        if (!state.activeModal) {\n            let dx = 0;\n            let dy = 0;\n            const keys = keysRef.current;\n            if (keys.has(\"w\") || keys.has(\"arrowup\")) {\n                dy = -_game_constants__WEBPACK_IMPORTED_MODULE_2__.PLAYER_SPEED;\n                store.getState().setDirection(_game_constants__WEBPACK_IMPORTED_MODULE_2__.Direction.UP);\n            }\n            if (keys.has(\"s\") || keys.has(\"arrowdown\")) {\n                dy = _game_constants__WEBPACK_IMPORTED_MODULE_2__.PLAYER_SPEED;\n                store.getState().setDirection(_game_constants__WEBPACK_IMPORTED_MODULE_2__.Direction.DOWN);\n            }\n            if (keys.has(\"a\") || keys.has(\"arrowleft\")) {\n                dx = -_game_constants__WEBPACK_IMPORTED_MODULE_2__.PLAYER_SPEED;\n                store.getState().setDirection(_game_constants__WEBPACK_IMPORTED_MODULE_2__.Direction.LEFT);\n            }\n            if (keys.has(\"d\") || keys.has(\"arrowright\")) {\n                dx = _game_constants__WEBPACK_IMPORTED_MODULE_2__.PLAYER_SPEED;\n                store.getState().setDirection(_game_constants__WEBPACK_IMPORTED_MODULE_2__.Direction.RIGHT);\n            }\n            if (dx !== 0 && dy !== 0) {\n                dx *= 0.707;\n                dy *= 0.707;\n            }\n            const moving = dx !== 0 || dy !== 0;\n            store.getState().setIsMoving(moving);\n            if (moving) {\n                const newX = state.playerX + dx;\n                const newY = state.playerY + dy;\n                let finalX = state.playerX;\n                let finalY = state.playerY;\n                if (!(0,_game_collision__WEBPACK_IMPORTED_MODULE_4__.checkCollision)(newX, state.playerY)) finalX = newX;\n                if (!(0,_game_collision__WEBPACK_IMPORTED_MODULE_4__.checkCollision)(finalX, newY)) finalY = newY;\n                store.getState().movePlayer(finalX, finalY);\n                animTimerRef.current++;\n                if (animTimerRef.current % 8 === 0) {\n                    store.getState().nextAnimFrame();\n                }\n            }\n            const nearby = (0,_game_collision__WEBPACK_IMPORTED_MODULE_4__.findNearbyInteractable)(store.getState().playerX, store.getState().playerY);\n            var _nearby_id;\n            store.getState().setNearbyObject((_nearby_id = nearby === null || nearby === void 0 ? void 0 : nearby.id) !== null && _nearby_id !== void 0 ? _nearby_id : null);\n        }\n        // ---- Ê∏≤Êüì ----\n        const s = store.getState();\n        const res = resRef.current;\n        ctx.clearRect(0, 0, _game_constants__WEBPACK_IMPORTED_MODULE_2__.CANVAS_WIDTH, _game_constants__WEBPACK_IMPORTED_MODULE_2__.CANVAS_HEIGHT);\n        ctx.imageSmoothingEnabled = false;\n        // 1. È¢ÑÊ∏≤ÊüìËÉåÊôØ (‰∏ÄÊ¨° drawImage)\n        (0,_game_renderer__WEBPACK_IMPORTED_MODULE_5__.renderBackground)(ctx, res.background);\n        // 2. ÂèØ‰∫íÂä®Áâ©‰ΩìÈ´ò‰∫Æ\n        (0,_game_renderer__WEBPACK_IMPORTED_MODULE_5__.renderInteractableHighlights)(ctx, s.nearbyObject, now);\n        // 3. Y-Sort Âú∫ÊôØ: ÂâçÊôØË°å‰∏éÁé©ÂÆ∂Êåâ Y ÂùêÊ†á‰∫§ÈîôÁªòÂà∂ (Ëß£ÂÜ≥ÈÄèËßÜÁ©øÊ®°)\n        (0,_game_renderer__WEBPACK_IMPORTED_MODULE_5__.renderSceneYSorted)(ctx, res.foregroundRows, s.playerX, s.playerY, s.direction, s.animFrame, s.isMoving, res.playerSprite);\n        // 3.5 ÊàøÈó¥Ê°ÜÊû∂Ë¶ÜÁõñÂ±Ç (ÂßãÁªàÈÅÆÊå°Áé©ÂÆ∂)\n        (0,_game_renderer__WEBPACK_IMPORTED_MODULE_5__.renderFrameOverlay)(ctx, res.frameOverlay);\n        // 4. ‰∫íÂä®ÊèêÁ§∫\n        if (s.nearbyObject && !s.activeModal) {\n            const obj = _game_constants__WEBPACK_IMPORTED_MODULE_2__.INTERACTABLES.find((o)=>o.id === s.nearbyObject);\n            if (obj) {\n                (0,_game_renderer__WEBPACK_IMPORTED_MODULE_5__.renderPromptBubble)(ctx, s.playerX + _game_constants__WEBPACK_IMPORTED_MODULE_2__.PLAYER_SIZE / 2, s.playerY - 10, obj.label, now);\n            }\n        }\n        // 5. Ê∞õÂõ¥ÂÖâ\n        (0,_game_renderer__WEBPACK_IMPORTED_MODULE_5__.renderAmbientLight)(ctx, now);\n        requestAnimationFrame(gameLoop);\n    }, [\n        store\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const frameId = requestAnimationFrame(gameLoop);\n        return ()=>cancelAnimationFrame(frameId);\n    }, [\n        gameLoop\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                ref: canvasRef,\n                width: _game_constants__WEBPACK_IMPORTED_MODULE_2__.CANVAS_WIDTH,\n                height: _game_constants__WEBPACK_IMPORTED_MODULE_2__.CANVAS_HEIGHT,\n                className: \"block border-4 border-sdv-dark rounded-lg shadow-2xl\",\n                style: {\n                    imageRendering: \"pixelated\",\n                    maxWidth: \"100%\",\n                    height: \"auto\"\n                }\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\214\\\\src\\\\components\\\\GameCanvas.tsx\",\n                lineNumber: 180,\n                columnNumber: 7\n            }, this),\n            loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 flex items-center justify-center bg-sdv-dark/80 rounded-lg\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"font-pixel text-sdv-gold text-sm animate-sparkle\",\n                        children: \"\\uD83D\\uDDBCÔ∏è Âä†ËΩΩÁ≤æÁÅµÂõæ...\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\214\\\\src\\\\components\\\\GameCanvas.tsx\",\n                        lineNumber: 194,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\214\\\\src\\\\components\\\\GameCanvas.tsx\",\n                    lineNumber: 193,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\214\\\\src\\\\components\\\\GameCanvas.tsx\",\n                lineNumber: 192,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\214\\\\src\\\\components\\\\GameCanvas.tsx\",\n        lineNumber: 179,\n        columnNumber: 5\n    }, this);\n}\n_s(GameCanvas, \"fZvrGQy48jCZ86gOT8V43P+3cVA=\");\n_c = GameCanvas;\nvar _c;\n$RefreshReg$(_c, \"GameCanvas\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0dhbWVDYW52YXMudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7Ozs7Ozs7O0NBUUMsR0FDdUU7QUFXOUM7QUFDa0I7QUFDOEI7QUFRakQ7QUFDMEM7QUFFcEQsU0FBU3dCOztJQUN0QixNQUFNQyxZQUFZeEIsNkNBQU1BLENBQW9CO0lBQzVDLE1BQU15QixVQUFVekIsNkNBQU1BLENBQWMsSUFBSTBCO0lBQ3hDLE1BQU1DLGVBQWUzQiw2Q0FBTUEsQ0FBQztJQUM1QixNQUFNNEIsU0FBUzVCLDZDQUFNQSxDQUFrQjtRQUNyQzZCLFlBQVk7UUFBTUMsWUFBWTtRQUFNQyxnQkFBZ0IsRUFBRTtRQUFFQyxjQUFjO1FBQU1DLGNBQWM7UUFBTUMsUUFBUTtJQUMxRztJQUNBLE1BQU0sQ0FBQ0MsU0FBU0MsV0FBVyxHQUFHakMsK0NBQVFBLENBQUM7SUFFdkMsTUFBTWtDLFFBQVF4QixxREFBWUE7SUFFMUIsaURBQWlEO0lBQ2pEWixnREFBU0EsQ0FBQztRQUNScUIsK0RBQWdCQSxDQUFDaEIscURBQVFBLEVBQUVDLHFEQUFRQSxFQUFFQyxzREFBU0EsRUFBRThCLElBQUksQ0FBQyxDQUFDQztZQUNwRFgsT0FBT1ksT0FBTyxHQUFHRDtZQUNqQkgsV0FBVztZQUNYSyxRQUFRQyxHQUFHLENBQUM7UUFDZDtJQUNGLEdBQUcsRUFBRTtJQUVMLGlEQUFpRDtJQUNqRHpDLGdEQUFTQSxDQUFDO1FBQ1IsTUFBTTBDLGdCQUFnQixDQUFDQztZQUNyQixNQUFNQyxNQUFNRCxFQUFFQyxHQUFHLENBQUNDLFdBQVc7WUFDN0JyQixRQUFRZSxPQUFPLENBQUNPLEdBQUcsQ0FBQ0Y7WUFFcEIsSUFBSUEsUUFBUSxPQUFPLENBQUNSLE1BQU1XLFFBQVEsR0FBR0MsV0FBVyxFQUFFO2dCQUNoRCxNQUFNQyxTQUFTbkMsdUVBQXNCQSxDQUNuQ3NCLE1BQU1XLFFBQVEsR0FBR0csT0FBTyxFQUN4QmQsTUFB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RyxHQUFHNkUsRUFBRWxDLE9BQU8sR0FBRyxJQUFJeUMsSUFBSUcsS0FBSyxFQUFFOUI7WUFDbEY7UUFDRjtRQUVBLFNBQVM7UUFDVDdDLGtFQUFrQkEsQ0FBQzBDLEtBQUtHO1FBRXhCK0Isc0JBQXNCcEM7SUFDeEIsR0FBRztRQUFDeEI7S0FBTTtJQUVWcEMsZ0RBQVNBLENBQUM7UUFDUixNQUFNaUcsVUFBVUQsc0JBQXNCcEM7UUFDdEMsT0FBTyxJQUFNc0MscUJBQXFCRDtJQUNwQyxHQUFHO1FBQUNyQztLQUFTO0lBRWIscUJBQ0UsOERBQUN1QztRQUFJQyxXQUFVOzswQkFDYiw4REFBQ3ZDO2dCQUNDd0MsS0FBSzlFO2dCQUNMK0UsT0FBT25HLHlEQUFZQTtnQkFDbkJvRyxRQUFRbkcsMERBQWFBO2dCQUNyQmdHLFdBQVU7Z0JBQ1ZJLE9BQU87b0JBQ0xDLGdCQUFnQjtvQkFDaEJDLFVBQVU7b0JBQ1ZILFFBQVE7Z0JBQ1Y7Ozs7OztZQUVEckUseUJBQ0MsOERBQUNpRTtnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ0Q7b0JBQUlDLFdBQVU7OEJBQ2IsNEVBQUNPO3dCQUFFUCxXQUFVO2tDQUFtRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVE1RTtHQXZLd0I5RTtLQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9HYW1lQ2FudmFzLnRzeD9iMzczIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcclxuLyoqXHJcbiAqIPCfjq4gR2FtZUNhbnZhcyDigJQg5qC45b+D5ri45oiP55S75biDXHJcbiAqXHJcbiAqIDEuIOWKoOi9veiDjOaZr+WbviDihpIg6aKE5riy5p+T6IOM5pmvXHJcbiAqIDIuIENhbnZhcyDmuLjmiI/lvqrnjq8gKHJlcXVlc3RBbmltYXRpb25GcmFtZSlcclxuICogMy4gV0FTRCAvIOaWueWQkemUruenu+WKqCArIOmAkOagvOeisOaSnuajgOa1i1xyXG4gKiA0LiBFIOmUruS6kuWKqFxyXG4gKiA1LiDmsJvlm7TlhYnnhadcclxuICovXHJcbmltcG9ydCBSZWFjdCwgeyB1c2VSZWYsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQge1xyXG4gIENBTlZBU19XSURUSCxcclxuICBDQU5WQVNfSEVJR0hULFxyXG4gIE1BUF9DT0xTLFxyXG4gIE1BUF9ST1dTLFxyXG4gIFRJTEVfU0laRSxcclxuICBQTEFZRVJfU0laRSxcclxuICBQTEFZRVJfU1BFRUQsXHJcbiAgRGlyZWN0aW9uLFxyXG4gIElOVEVSQUNUQUJMRVMsXHJcbn0gZnJvbSAnQC9nYW1lL2NvbnN0YW50cyc7XHJcbmltcG9ydCB7IHVzZUdhbWVTdG9yZSB9IGZyb20gJ0AvZ2FtZS9zdG9yZSc7XHJcbmltcG9ydCB7IGNoZWNrQ29sbGlzaW9uLCBmaW5kTmVhcmJ5SW50ZXJhY3RhYmxlIH0gZnJvbSAnQC9nYW1lL2NvbGxpc2lvbic7XHJcbmltcG9ydCB7XHJcbiAgcmVuZGVyQmFja2dyb3VuZCxcclxuICByZW5kZXJJbnRlcmFjdGFibGVIaWdobGlnaHRzLFxyXG4gIHJlbmRlclNjZW5lWVNvcnRlZCxcclxuICByZW5kZXJGcmFtZU92ZXJsYXksXHJcbiAgcmVuZGVyUHJvbXB0QnViYmxlLFxyXG4gIHJlbmRlckFtYmllbnRMaWdodCxcclxufSBmcm9tICdAL2dhbWUvcmVuZGVyZXInO1xyXG5pbXBvcnQgeyBsb2FkQWxsUmVzb3VyY2VzLCBMb2FkZWRSZXNvdXJjZXMgfSBmcm9tICdAL2dhbWUvc3ByaXRlcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBHYW1lQ2FudmFzKCkge1xyXG4gIGNvbnN0IGNhbnZhc1JlZiA9IHVzZVJlZjxIVE1MQ2FudmFzRWxlbWVudD4obnVsbCk7XHJcbiAgY29uc3Qga2V5c1JlZiA9IHVzZVJlZjxTZXQ8c3RyaW5nPj4obmV3IFNldCgpKTtcclxuICBjb25zdCBhbmltVGltZXJSZWYgPSB1c2VSZWYoMCk7XHJcbiAgY29uc3QgcmVzUmVmID0gdXNlUmVmPExvYWRlZFJlc291cmNlcz4oe1xyXG4gICAgYmFja2dyb3VuZDogbnVsbCwgZm9yZWdyb3VuZDogbnVsbCwgZm9yZWdyb3VuZFJvd3M6IFtdLCBmcmFtZU92ZXJsYXk6IG51bGwsIHBsYXllclNwcml0ZTogbnVsbCwgbG9hZGVkOiBmYWxzZSxcclxuICB9KTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcclxuXHJcbiAgY29uc3Qgc3RvcmUgPSB1c2VHYW1lU3RvcmU7XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09IOWKoOi9vei1hOa6kCA9PT09PT09PT09PT09PT09PT09PVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBsb2FkQWxsUmVzb3VyY2VzKE1BUF9DT0xTLCBNQVBfUk9XUywgVElMRV9TSVpFKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmVzUmVmLmN1cnJlbnQgPSByZXM7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIOaJgOaciei1hOa6kOWKoOi9veWujOavlSwg6IOM5pmv5bey6aKE5riy5p+TJyk7XHJcbiAgICB9KTtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09IOmUruebmOebkeWQrCA9PT09PT09PT09PT09PT09PT09PVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgICAgY29uc3Qga2V5ID0gZS5rZXkudG9Mb3dlckNhc2UoKTtcclxuICAgICAga2V5c1JlZi5jdXJyZW50LmFkZChrZXkpO1xyXG5cclxuICAgICAgaWYgKGtleSA9PT0gJ2UnICYmICFzdG9yZS5nZXRTdGF0ZSgpLmFjdGl2ZU1vZGFsKSB7XHJcbiAgICAgICAgY29uc3QgbmVhcmJ5ID0gZmluZE5lYXJieUludGVyYWN0YWJsZShcclxuICAgICAgICAgIHN0b3JlLmdldFN0YXRlKCkucGxheWVyWCxcclxuICAgICAgICAgIHN0b3JlLmdldFN0YXRlKCkucGxheWVyWVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKG5lYXJieSkge1xyXG4gICAgICAgICAgc3RvcmUuZ2V0U3RhdGUoKS5vcGVuTW9kYWwobmVhcmJ5LnR5cGUsIG5lYXJieS5pZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGhhbmRsZUtleVVwID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgICAga2V5c1JlZi5jdXJyZW50LmRlbGV0ZShlLmtleS50b0xvd2VyQ2FzZSgpKTtcclxuICAgIH07XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGhhbmRsZUtleVVwKTtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIGhhbmRsZUtleVVwKTtcclxuICAgIH07XHJcbiAgfSwgW3N0b3JlXSk7XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09IOa4uOaIj+S4u+W+queOryA9PT09PT09PT09PT09PT09PT09PVxyXG4gIGNvbnN0IGdhbWVMb29wID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XHJcbiAgICBpZiAoIWNhbnZhcykgcmV0dXJuO1xyXG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICBpZiAoIWN0eCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcclxuICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG5cclxuICAgIC8vIC0tLS0g5pu05paw6YC76L6RIC0tLS1cclxuICAgIGlmICghc3RhdGUuYWN0aXZlTW9kYWwpIHtcclxuICAgICAgbGV0IGR4ID0gMDtcclxuICAgICAgbGV0IGR5ID0gMDtcclxuICAgICAgY29uc3Qga2V5cyA9IGtleXNSZWYuY3VycmVudDtcclxuXHJcbiAgICAgIGlmIChrZXlzLmhhcygndycpIHx8IGtleXMuaGFzKCdhcnJvd3VwJykpICAgIHsgZHkgPSAtUExBWUVSX1NQRUVEOyBzdG9yZS5nZXRTdGF0ZSgpLnNldERpcmVjdGlvbihEaXJlY3Rpb24uVVApOyB9XHJcbiAgICAgIGlmIChrZXlzLmhhcygncycpIHx8IGtleXMuaGFzKCdhcnJvd2Rvd24nKSkgICB7IGR5ID0gUExBWUVSX1NQRUVEOyBzdG9yZS5nZXRTdGF0ZSgpLnNldERpcmVjdGlvbihEaXJlY3Rpb24uRE9XTik7IH1cclxuICAgICAgaWYgKGtleXMuaGFzKCdhJykgfHwga2V5cy5oYXMoJ2Fycm93bGVmdCcpKSAgIHsgZHggPSAtUExBWUVSX1NQRUVEOyBzdG9yZS5nZXRTdGF0ZSgpLnNldERpcmVjdGlvbihEaXJlY3Rpb24uTEVGVCk7IH1cclxuICAgICAgaWYgKGtleXMuaGFzKCdkJykgfHwga2V5cy5oYXMoJ2Fycm93cmlnaHQnKSkgICB7IGR4ID0gUExBWUVSX1NQRUVEOyBzdG9yZS5nZXRTdGF0ZSgpLnNldERpcmVjdGlvbihEaXJlY3Rpb24uUklHSFQpOyB9XHJcblxyXG4gICAgICBpZiAoZHggIT09IDAgJiYgZHkgIT09IDApIHsgZHggKj0gMC43MDc7IGR5ICo9IDAuNzA3OyB9XHJcblxyXG4gICAgICBjb25zdCBtb3ZpbmcgPSBkeCAhPT0gMCB8fCBkeSAhPT0gMDtcclxuICAgICAgc3RvcmUuZ2V0U3RhdGUoKS5zZXRJc01vdmluZyhtb3ZpbmcpO1xyXG5cclxuICAgICAgaWYgKG1vdmluZykge1xyXG4gICAgICAgIGNvbnN0IG5ld1ggPSBzdGF0ZS5wbGF5ZXJYICsgZHg7XHJcbiAgICAgICAgY29uc3QgbmV3WSA9IHN0YXRlLnBsYXllclkgKyBkeTtcclxuICAgICAgICBsZXQgZmluYWxYID0gc3RhdGUucGxheWVyWDtcclxuICAgICAgICBsZXQgZmluYWxZID0gc3RhdGUucGxheWVyWTtcclxuXHJcbiAgICAgICAgaWYgKCFjaGVja0NvbGxpc2lvbihuZXdYLCBzdGF0ZS5wbGF5ZXJZKSkgZmluYWxYID0gbmV3WDtcclxuICAgICAgICBpZiAoIWNoZWNrQ29sbGlzaW9uKGZpbmFsWCwgbmV3WSkpIGZpbmFsWSA9IG5ld1k7XHJcblxyXG4gICAgICAgIHN0b3JlLmdldFN0YXRlKCkubW92ZVBsYXllcihmaW5hbFgsIGZpbmFsWSk7XHJcblxyXG4gICAgICAgIGFuaW1UaW1lclJlZi5jdXJyZW50Kys7XHJcbiAgICAgICAgaWYgKGFuaW1UaW1lclJlZi5jdXJyZW50ICUgOCA9PT0gMCkge1xyXG4gICAgICAgICAgc3RvcmUuZ2V0U3RhdGUoKS5uZXh0QW5pbUZyYW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBuZWFyYnkgPSBmaW5kTmVhcmJ5SW50ZXJhY3RhYmxlKFxyXG4gICAgICAgIHN0b3JlLmdldFN0YXRlKCkucGxheWVyWCxcclxuICAgICAgICBzdG9yZS5nZXRTdGF0ZSgpLnBsYXllcllcclxuICAgICAgKTtcclxuICAgICAgc3RvcmUuZ2V0U3RhdGUoKS5zZXROZWFyYnlPYmplY3QobmVhcmJ5Py5pZCA/PyBudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAtLS0tIOa4suafkyAtLS0tXHJcbiAgICBjb25zdCBzID0gc3RvcmUuZ2V0U3RhdGUoKTtcclxuICAgIGNvbnN0IHJlcyA9IHJlc1JlZi5jdXJyZW50O1xyXG5cclxuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgQ0FOVkFTX1dJRFRILCBDQU5WQVNfSEVJR0hUKTtcclxuICAgIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcclxuXHJcbiAgICAvLyAxLiDpooTmuLLmn5Pog4zmma8gKOS4gOasoSBkcmF3SW1hZ2UpXHJcbiAgICByZW5kZXJCYWNrZ3JvdW5kKGN0eCwgcmVzLmJhY2tncm91bmQpO1xyXG5cclxuICAgIC8vIDIuIOWPr+S6kuWKqOeJqeS9k+mrmOS6rlxyXG4gICAgcmVuZGVySW50ZXJhY3RhYmxlSGlnaGxpZ2h0cyhjdHgsIHMubmVhcmJ5T2JqZWN0LCBub3cpO1xyXG5cclxuICAgIC8vIDMuIFktU29ydCDlnLrmma86IOWJjeaZr+ihjOS4jueOqeWutuaMiSBZIOWdkOagh+S6pOmUmee7mOWItiAo6Kej5Yaz6YCP6KeG56m/5qihKVxyXG4gICAgcmVuZGVyU2NlbmVZU29ydGVkKFxyXG4gICAgICBjdHgsXHJcbiAgICAgIHJlcy5mb3JlZ3JvdW5kUm93cyxcclxuICAgICAgcy5wbGF5ZXJYLCBzLnBsYXllclksXHJcbiAgICAgIHMuZGlyZWN0aW9uLCBzLmFuaW1GcmFtZSwgcy5pc01vdmluZyxcclxuICAgICAgcmVzLnBsYXllclNwcml0ZVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyAzLjUg5oi/6Ze05qGG5p626KaG55uW5bGCICjlp4vnu4jpga7mjKHnjqnlrrYpXHJcbiAgICByZW5kZXJGcmFtZU92ZXJsYXkoY3R4LCByZXMuZnJhbWVPdmVybGF5KTtcclxuXHJcbiAgICAvLyA0LiDkupLliqjmj5DnpLpcclxuICAgIGlmIChzLm5lYXJieU9iamVjdCAmJiAhcy5hY3RpdmVNb2RhbCkge1xyXG4gICAgICBjb25zdCBvYmogPSBJTlRFUkFDVEFCTEVTLmZpbmQoKG8pID0+IG8uaWQgPT09IHMubmVhcmJ5T2JqZWN0KTtcclxuICAgICAgaWYgKG9iaikge1xyXG4gICAgICAgIHJlbmRlclByb21wdEJ1YmJsZShjdHgsIHMucGxheWVyWCArIFBMQVlFUl9TSVpFIC8gMiwgcy5wbGF5ZXJZIC0gMTAsIG9iai5sYWJlbCwgbm93KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIDUuIOawm+WbtOWFiVxyXG4gICAgcmVuZGVyQW1iaWVudExpZ2h0KGN0eCwgbm93KTtcclxuXHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3ApO1xyXG4gIH0sIFtzdG9yZV0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgZnJhbWVJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lTG9vcCk7XHJcbiAgICByZXR1cm4gKCkgPT4gY2FuY2VsQW5pbWF0aW9uRnJhbWUoZnJhbWVJZCk7XHJcbiAgfSwgW2dhbWVMb29wXSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XHJcbiAgICAgIDxjYW52YXNcclxuICAgICAgICByZWY9e2NhbnZhc1JlZn1cclxuICAgICAgICB3aWR0aD17Q0FOVkFTX1dJRFRIfVxyXG4gICAgICAgIGhlaWdodD17Q0FOVkFTX0hFSUdIVH1cclxuICAgICAgICBjbGFzc05hbWU9XCJibG9jayBib3JkZXItNCBib3JkZXItc2R2LWRhcmsgcm91bmRlZC1sZyBzaGFkb3ctMnhsXCJcclxuICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgaW1hZ2VSZW5kZXJpbmc6ICdwaXhlbGF0ZWQnLFxyXG4gICAgICAgICAgbWF4V2lkdGg6ICcxMDAlJyxcclxuICAgICAgICAgIGhlaWdodDogJ2F1dG8nLFxyXG4gICAgICAgIH19XHJcbiAgICAgIC8+XHJcbiAgICAgIHtsb2FkaW5nICYmIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctc2R2LWRhcmsvODAgcm91bmRlZC1sZ1wiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LXBpeGVsIHRleHQtc2R2LWdvbGQgdGV4dC1zbSBhbmltYXRlLXNwYXJrbGVcIj5cclxuICAgICAgICAgICAgICDwn5a877iPIOWKoOi9veeyvueBteWbvi4uLlxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlUmVmIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJ1c2VTdGF0ZSIsIkNBTlZBU19XSURUSCIsIkNBTlZBU19IRUlHSFQiLCJNQVBfQ09MUyIsIk1BUF9ST1dTIiwiVElMRV9TSVpFIiwiUExBWUVSX1NJWkUiLCJQTEFZRVJfU1BFRUQiLCJEaXJlY3Rpb24iLCJJTlRFUkFDVEFCTEVTIiwidXNlR2FtZVN0b3JlIiwiY2hlY2tDb2xsaXNpb24iLCJmaW5kTmVhcmJ5SW50ZXJhY3RhYmxlIiwicmVuZGVyQmFja2dyb3VuZCIsInJlbmRlckludGVyYWN0YWJsZUhpZ2hsaWdodHMiLCJyZW5kZXJTY2VuZVlTb3J0ZWQiLCJyZW5kZXJGcmFtZU92ZXJsYXkiLCJyZW5kZXJQcm9tcHRCdWJibGUiLCJyZW5kZXJBbWJpZW50TGlnaHQiLCJsb2FkQWxsUmVzb3VyY2VzIiwiR2FtZUNhbnZhcyIsImNhbnZhc1JlZiIsImtleXNSZWYiLCJTZXQiLCJhbmltVGltZXJSZWYiLCJyZXNSZWYiLCJiYWNrZ3JvdW5kIiwiZm9yZWdyb3VuZCIsImZvcmVncm91bmRSb3dzIiwiZnJhbWVPdmVybGF5IiwicGxheWVyU3ByaXRlIiwibG9hZGVkIiwibG9hZGluZyIsInNldExvYWRpbmciLCJzdG9yZSIsInRoZW4iLCJyZXMiLCJjdXJyZW50IiwiY29uc29sZSIsImxvZyIsImhhbmRsZUtleURvd24iLCJlIiwia2V5IiwidG9Mb3dlckNhc2UiLCJhZGQiLCJnZXRTdGF0ZSIsImFjdGl2ZU1vZGFsIiwibmVhcmJ5IiwicGxheWVyWCIsInBsYXllclkiLCJvcGVuTW9kYWwiLCJ0eXBlIiwiaWQiLCJoYW5kbGVLZXlVcCIsImRlbGV0ZSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZ2FtZUxvb3AiLCJjYW52YXMiLCJjdHgiLCJnZXRDb250ZXh0Iiwic3RhdGUiLCJub3ciLCJwZXJmb3JtYW5jZSIsImR4IiwiZHkiLCJrZXlzIiwiaGFzIiwic2V0RGlyZWN0aW9uIiwiVVAiLCJET1dOIiwiTEVGVCIsIlJJR0hUIiwibW92aW5nIiwic2V0SXNNb3ZpbmciLCJuZXdYIiwibmV3WSIsImZpbmFsWCIsImZpbmFsWSIsIm1vdmVQbGF5ZXIiLCJuZXh0QW5pbUZyYW1lIiwic2V0TmVhcmJ5T2JqZWN0IiwicyIsImNsZWFyUmVjdCIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsIm5lYXJieU9iamVjdCIsImRpcmVjdGlvbiIsImFuaW1GcmFtZSIsImlzTW92aW5nIiwib2JqIiwiZmluZCIsIm8iLCJsYWJlbCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImZyYW1lSWQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImRpdiIsImNsYXNzTmFtZSIsInJlZiIsIndpZHRoIiwiaGVpZ2h0Iiwic3R5bGUiLCJpbWFnZVJlbmRlcmluZyIsIm1heFdpZHRoIiwicCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/GameCanvas.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/game/collision.ts":
/*!*******************************!*\
  !*** ./src/game/collision.ts ***!
  \*******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkCollision: function() { return /* binding */ checkCollision; },\n/* harmony export */   findNearbyInteractable: function() { return /* binding */ findNearbyInteractable; }\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"(app-pages-browser)/./src/game/constants.ts\");\n/**\r\n * Á¢∞ÊíûÊ£ÄÊµã & ‰∫íÂä®Ê£ÄÊµã\r\n *\r\n * ‰ΩøÁî®ÈÄêÊ†º WALKABLE_MAP ËÄåÈùûÁü©ÂΩ¢Âå∫Âüü ‚Äî Âè™ÊúâÂú∞Êùø/Âú∞ÊØØ/Á†ñÂú∞ÊùøÂèØË°åËµ∞„ÄÇ\r\n */ \n// ==================== ËæÖÂä©: ÊüêÂÉèÁ¥†‰ΩçÁΩÆÁöÑ tile ÊòØÂê¶ÂèØË°åËµ∞ ====================\nfunction isTileWalkable(px, py) {\n    const col = Math.floor(px / _constants__WEBPACK_IMPORTED_MODULE_0__.TILE_SIZE);\n    const row = Math.floor(py / _constants__WEBPACK_IMPORTED_MODULE_0__.TILE_SIZE);\n    if (col < 0 || col >= _constants__WEBPACK_IMPORTED_MODULE_0__.MAP_COLS || row < 0 || row >= _constants__WEBPACK_IMPORTED_MODULE_0__.MAP_ROWS) return false;\n    return _constants__WEBPACK_IMPORTED_MODULE_0__.WALKABLE_MAP[row][col] === 1;\n}\n// ==================== Á¢∞ÊíûÊ£ÄÊµã ====================\nfunction checkCollision(px, py) {\n    // ‰ΩøÁî®Áé©ÂÆ∂‰∏ãÂçäË∫´‰Ωú‰∏∫Á¢∞Êíû‰Ωì (ËÑöÈÉ®Âå∫Âüü)\n    const padding = 4;\n    const left = px + padding;\n    const right = px + _constants__WEBPACK_IMPORTED_MODULE_0__.PLAYER_SIZE - padding;\n    const top = py + _constants__WEBPACK_IMPORTED_MODULE_0__.PLAYER_SIZE / 2; // Âè™Ê£ÄÊµã‰∏ãÂçäË∫´\n    const bottom = py + _constants__WEBPACK_IMPORTED_MODULE_0__.PLAYER_SIZE + 4;\n    // Ê£ÄÊü•ËÑöÈÉ®Âõõ‰∏™Ëßí + ‰∏≠ÂøÉÁÇπÊòØÂê¶ÈÉΩÂú®ÂèØË°åËµ∞ tile ‰∏ä\n    const checkPoints = [\n        {\n            x: left,\n            y: top\n        },\n        {\n            x: right,\n            y: top\n        },\n        {\n            x: left,\n            y: bottom\n        },\n        {\n            x: right,\n            y: bottom\n        },\n        {\n            x: (left + right) / 2,\n            y: bottom\n        }\n    ];\n    for (const pt of checkPoints){\n        if (!isTileWalkable(pt.x, pt.y)) {\n            return true; // Êúâ‰∏Ä‰∏™ÁÇπÂú®‰∏çÂèØËµ∞ tile ‰∏ä ‚Üí Á¢∞Êíû\n        }\n    }\n    return false;\n}\n// ==================== ‰∫íÂä®Ê£ÄÊµã ====================\n// Ëß¶ÂèëÂå∫ÂüüÁõ¥Êé•Êù•Ëá™ TMX ÂêÑ‰∫íÂä®ÂõæÂ±ÇÔºåÁé©ÂÆ∂‰∏≠ÂøÉËêΩÂÖ•Âå∫ÂüüÂç≥Ëß¶Âèë\nfunction findNearbyInteractable(px, py) {\n    const playerCX = px + _constants__WEBPACK_IMPORTED_MODULE_0__.PLAYER_SIZE / 2;\n    const playerCY = py + _constants__WEBPACK_IMPORTED_MODULE_0__.PLAYER_SIZE / 2;\n    let closest = null;\n    let closestDist = Infinity;\n    for (const obj of _constants__WEBPACK_IMPORTED_MODULE_0__.INTERACTABLES){\n        const objLeft = obj.x * _constants__WEBPACK_IMPORTED_MODULE_0__.TILE_SIZE;\n        const objRight = (obj.x + obj.width) * _constants__WEBPACK_IMPORTED_MODULE_0__.TILE_SIZE;\n        const objTop = obj.y * _constants__WEBPACK_IMPORTED_MODULE_0__.TILE_SIZE;\n        const objBottom = (obj.y + obj.height) * _constants__WEBPACK_IMPORTED_MODULE_0__.TILE_SIZE;\n        // Áé©ÂÆ∂‰∏≠ÂøÉÂà∞Ëß¶ÂèëÂå∫ÂüüËæπÁºòÁöÑÊúÄËøëË∑ùÁ¶ª\n        const nearX = Math.max(objLeft, Math.min(playerCX, objRight));\n        const nearY = Math.max(objTop, Math.min(playerCY, objBottom));\n        const dx = playerCX - nearX;\n        const dy = playerCY - nearY;\n        const dist = Math.sqrt(dx * dx + dy * dy);\n        // Áé©ÂÆ∂Âú®Ëß¶ÂèëÂå∫ÂüüÂÜÖ (dist === 0) ÊàñË∑ùÁ¶ªÂú®ÈòàÂÄºÂÜÖ\n        if (dist < _constants__WEBPACK_IMPORTED_MODULE_0__.INTERACTION_DISTANCE && dist < closestDist) {\n            closestDist = dist;\n            closest = obj;\n        }\n    }\n    return closest;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9nYW1lL2NvbGxpc2lvbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztDQUlDLEdBVW9CO0FBRXJCLGtFQUFrRTtBQUNsRSxTQUFTTyxlQUFlQyxFQUFVLEVBQUVDLEVBQVU7SUFDNUMsTUFBTUMsTUFBTUMsS0FBS0MsS0FBSyxDQUFDSixLQUFLUixpREFBU0E7SUFDckMsTUFBTWEsTUFBTUYsS0FBS0MsS0FBSyxDQUFDSCxLQUFLVCxpREFBU0E7SUFDckMsSUFBSVUsTUFBTSxLQUFLQSxPQUFPTCxnREFBUUEsSUFBSVEsTUFBTSxLQUFLQSxPQUFPUCxnREFBUUEsRUFBRSxPQUFPO0lBQ3JFLE9BQU9GLG9EQUFZLENBQUNTLElBQUksQ0FBQ0gsSUFBSSxLQUFLO0FBQ3BDO0FBRUEsaURBQWlEO0FBQzFDLFNBQVNJLGVBQWVOLEVBQVUsRUFBRUMsRUFBVTtJQUNuRCxzQkFBc0I7SUFDdEIsTUFBTU0sVUFBVTtJQUNoQixNQUFNQyxPQUFPUixLQUFLTztJQUNsQixNQUFNRSxRQUFRVCxLQUFLUCxtREFBV0EsR0FBR2M7SUFDakMsTUFBTUcsTUFBTVQsS0FBS1IsbURBQVdBLEdBQUcsR0FBVSxTQUFTO0lBQ2xELE1BQU1rQixTQUFTVixLQUFLUixtREFBV0EsR0FBRztJQUVsQyw4QkFBOEI7SUFDOUIsTUFBTW1CLGNBQWM7UUFDbEI7WUFBRUMsR0FBR0w7WUFBcUJNLEdBQUdKO1FBQUk7UUFDakM7WUFBRUcsR0FBR0o7WUFBcUJLLEdBQUdKO1FBQUk7UUFDakM7WUFBRUcsR0FBR0w7WUFBcUJNLEdBQUdIO1FBQU87UUFDcEM7WUFBRUUsR0FBR0o7WUFBcUJLLEdBQUdIO1FBQU87UUFDcEM7WUFBRUUsR0FBRyxDQUFDTCxPQUFPQyxLQUFJLElBQUs7WUFBSUssR0FBR0g7UUFBTztLQUNyQztJQUVELEtBQUssTUFBTUksTUFBTUgsWUFBYTtRQUM1QixJQUFJLENBQUNiLGVBQWVnQixHQUFHRixDQUFDLEVBQUVFLEdBQUdELENBQUMsR0FBRztZQUMvQixPQUFPLE1BQU0sdUJBQXVCO1FBQ3RDO0lBQ0Y7SUFFQSxPQUFPO0FBQ1Q7QUFFQSxpREFBaUQ7QUFDakQsaUNBQWlDO0FBQzFCLFNBQVNFLHVCQUNkaEIsRUFBVSxFQUNWQyxFQUFVO0lBRVYsTUFBTWdCLFdBQVdqQixLQUFLUCxtREFBV0EsR0FBRztJQUNwQyxNQUFNeUIsV0FBV2pCLEtBQUtSLG1EQUFXQSxHQUFHO0lBRXBDLElBQUkwQixVQUFxQztJQUN6QyxJQUFJQyxjQUFjQztJQUVsQixLQUFLLE1BQU1DLE9BQU8zQixxREFBYUEsQ0FBRTtRQUMvQixNQUFNNEIsVUFBWUQsSUFBSVQsQ0FBQyxHQUFHckIsaURBQVNBO1FBQ25DLE1BQU1nQyxXQUFZLENBQUNGLElBQUlULENBQUMsR0FBR1MsSUFBSUcsS0FBSyxJQUFJakMsaURBQVNBO1FBQ2pELE1BQU1rQyxTQUFZSixJQUFJUixDQUFDLEdBQUd0QixpREFBU0E7UUFDbkMsTUFBTW1DLFlBQVksQ0FBQ0wsSUFBSVIsQ0FBQyxHQUFHUSxJQUFJTSxNQUFNLElBQUlwQyxpREFBU0E7UUFFbEQsbUJBQW1CO1FBQ25CLE1BQU1xQyxRQUFRMUIsS0FBSzJCLEdBQUcsQ0FBQ1AsU0FBU3BCLEtBQUs0QixHQUFHLENBQUNkLFVBQVVPO1FBQ25ELE1BQU1RLFFBQVE3QixLQUFLMkIsR0FBRyxDQUFDSixRQUFRdkIsS0FBSzRCLEdBQUcsQ0FBQ2IsVUFBVVM7UUFDbEQsTUFBTU0sS0FBS2hCLFdBQVdZO1FBQ3RCLE1BQU1LLEtBQUtoQixXQUFXYztRQUN0QixNQUFNRyxPQUFPaEMsS0FBS2lDLElBQUksQ0FBQ0gsS0FBS0EsS0FBS0MsS0FBS0E7UUFFdEMsZ0NBQWdDO1FBQ2hDLElBQUlDLE9BQU96Qyw0REFBb0JBLElBQUl5QyxPQUFPZixhQUFhO1lBQ3JEQSxjQUFjZTtZQUNkaEIsVUFBVUc7UUFDWjtJQUNGO0lBRUEsT0FBT0g7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvZ2FtZS9jb2xsaXNpb24udHM/NmE4YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog56Kw5pKe5qOA5rWLICYg5LqS5Yqo5qOA5rWLXHJcbiAqXHJcbiAqIOS9v+eUqOmAkOagvCBXQUxLQUJMRV9NQVAg6ICM6Z2e55+p5b2i5Yy65Z+fIOKAlCDlj6rmnInlnLDmnb8v5Zyw5q+vL+egluWcsOadv+WPr+ihjOi1sOOAglxyXG4gKi9cclxuaW1wb3J0IHtcclxuICBUSUxFX1NJWkUsXHJcbiAgUExBWUVSX1NJWkUsXHJcbiAgSU5URVJBQ1RJT05fRElTVEFOQ0UsXHJcbiAgSU5URVJBQ1RBQkxFUyxcclxuICBXQUxLQUJMRV9NQVAsXHJcbiAgTUFQX0NPTFMsXHJcbiAgTUFQX1JPV1MsXHJcbiAgSW50ZXJhY3RhYmxlT2JqZWN0LFxyXG59IGZyb20gJy4vY29uc3RhbnRzJztcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09IOi+heWKqTog5p+Q5YOP57Sg5L2N572u55qEIHRpbGUg5piv5ZCm5Y+v6KGM6LWwID09PT09PT09PT09PT09PT09PT09XHJcbmZ1bmN0aW9uIGlzVGlsZVdhbGthYmxlKHB4OiBudW1iZXIsIHB5OiBudW1iZXIpOiBib29sZWFuIHtcclxuICBjb25zdCBjb2wgPSBNYXRoLmZsb29yKHB4IC8gVElMRV9TSVpFKTtcclxuICBjb25zdCByb3cgPSBNYXRoLmZsb29yKHB5IC8gVElMRV9TSVpFKTtcclxuICBpZiAoY29sIDwgMCB8fCBjb2wgPj0gTUFQX0NPTFMgfHwgcm93IDwgMCB8fCByb3cgPj0gTUFQX1JPV1MpIHJldHVybiBmYWxzZTtcclxuICByZXR1cm4gV0FMS0FCTEVfTUFQW3Jvd11bY29sXSA9PT0gMTtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT0g56Kw5pKe5qOA5rWLID09PT09PT09PT09PT09PT09PT09XHJcbmV4cG9ydCBmdW5jdGlvbiBjaGVja0NvbGxpc2lvbihweDogbnVtYmVyLCBweTogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgLy8g5L2/55So546p5a625LiL5Y2K6Lqr5L2c5Li656Kw5pKe5L2TICjohJrpg6jljLrln58pXHJcbiAgY29uc3QgcGFkZGluZyA9IDQ7XHJcbiAgY29uc3QgbGVmdCA9IHB4ICsgcGFkZGluZztcclxuICBjb25zdCByaWdodCA9IHB4ICsgUExBWUVSX1NJWkUgLSBwYWRkaW5nO1xyXG4gIGNvbnN0IHRvcCA9IHB5ICsgUExBWUVSX1NJWkUgLyAyOyAgICAgICAgLy8g5Y+q5qOA5rWL5LiL5Y2K6LqrXHJcbiAgY29uc3QgYm90dG9tID0gcHkgKyBQTEFZRVJfU0laRSArIDQ7XHJcblxyXG4gIC8vIOajgOafpeiEmumDqOWbm+S4quinkiArIOS4reW/g+eCueaYr+WQpumDveWcqOWPr+ihjOi1sCB0aWxlIOS4ilxyXG4gIGNvbnN0IGNoZWNrUG9pbnRzID0gW1xyXG4gICAgeyB4OiBsZWZ0LCAgICAgICAgICAgICAgICB5OiB0b3AgfSwgICAgICAvLyDlt6bkuIpcclxuICAgIHsgeDogcmlnaHQsICAgICAgICAgICAgICAgeTogdG9wIH0sICAgICAgLy8g5Y+z5LiKXHJcbiAgICB7IHg6IGxlZnQsICAgICAgICAgICAgICAgIHk6IGJvdHRvbSB9LCAgIC8vIOW3puS4i1xyXG4gICAgeyB4OiByaWdodCwgICAgICAgICAgICAgICB5OiBib3R0b20gfSwgICAvLyDlj7PkuItcclxuICAgIHsgeDogKGxlZnQgKyByaWdodCkgLyAyLCAgeTogYm90dG9tIH0sICAgLy8g5bqV6YOo5Lit5b+DXHJcbiAgXTtcclxuXHJcbiAgZm9yIChjb25zdCBwdCBvZiBjaGVja1BvaW50cykge1xyXG4gICAgaWYgKCFpc1RpbGVXYWxrYWJsZShwdC54LCBwdC55KSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTsgLy8g5pyJ5LiA5Liq54K55Zyo5LiN5Y+v6LWwIHRpbGUg5LiKIOKGkiDnorDmkp5cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT0g5LqS5Yqo5qOA5rWLID09PT09PT09PT09PT09PT09PT09XHJcbi8vIOinpuWPkeWMuuWfn+ebtOaOpeadpeiHqiBUTVgg5ZCE5LqS5Yqo5Zu+5bGC77yM546p5a625Lit5b+D6JC95YWl5Yy65Z+f5Y2z6Kem5Y+RXHJcbmV4cG9ydCBmdW5jdGlvbiBmaW5kTmVhcmJ5SW50ZXJhY3RhYmxlKFxyXG4gIHB4OiBudW1iZXIsXHJcbiAgcHk6IG51bWJlclxyXG4pOiBJbnRlcmFjdGFibGVPYmplY3QgfCBudWxsIHtcclxuICBjb25zdCBwbGF5ZXJDWCA9IHB4ICsgUExBWUVSX1NJWkUgLyAyO1xyXG4gIGNvbnN0IHBsYXllckNZID0gcHkgKyBQTEFZRVJfU0laRSAvIDI7XHJcblxyXG4gIGxldCBjbG9zZXN0OiBJbnRlcmFjdGFibGVPYmplY3QgfCBudWxsID0gbnVsbDtcclxuICBsZXQgY2xvc2VzdERpc3QgPSBJbmZpbml0eTtcclxuXHJcbiAgZm9yIChjb25zdCBvYmogb2YgSU5URVJBQ1RBQkxFUykge1xyXG4gICAgY29uc3Qgb2JqTGVmdCAgID0gb2JqLnggKiBUSUxFX1NJWkU7XHJcbiAgICBjb25zdCBvYmpSaWdodCAgPSAob2JqLnggKyBvYmoud2lkdGgpICogVElMRV9TSVpFO1xyXG4gICAgY29uc3Qgb2JqVG9wICAgID0gb2JqLnkgKiBUSUxFX1NJWkU7XHJcbiAgICBjb25zdCBvYmpCb3R0b20gPSAob2JqLnkgKyBvYmouaGVpZ2h0KSAqIFRJTEVfU0laRTtcclxuXHJcbiAgICAvLyDnjqnlrrbkuK3lv4PliLDop6blj5HljLrln5/ovrnnvJjnmoTmnIDov5Hot53nprtcclxuICAgIGNvbnN0IG5lYXJYID0gTWF0aC5tYXgob2JqTGVmdCwgTWF0aC5taW4ocGxheWVyQ1gsIG9ialJpZ2h0KSk7XHJcbiAgICBjb25zdCBuZWFyWSA9IE1hdGgubWF4KG9ialRvcCwgTWF0aC5taW4ocGxheWVyQ1ksIG9iakJvdHRvbSkpO1xyXG4gICAgY29uc3QgZHggPSBwbGF5ZXJDWCAtIG5lYXJYO1xyXG4gICAgY29uc3QgZHkgPSBwbGF5ZXJDWSAtIG5lYXJZO1xyXG4gICAgY29uc3QgZGlzdCA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XHJcblxyXG4gICAgLy8g546p5a625Zyo6Kem5Y+R5Yy65Z+f5YaFIChkaXN0ID09PSAwKSDmiJbot53nprvlnKjpmIjlgLzlhoVcclxuICAgIGlmIChkaXN0IDwgSU5URVJBQ1RJT05fRElTVEFOQ0UgJiYgZGlzdCA8IGNsb3Nlc3REaXN0KSB7XHJcbiAgICAgIGNsb3Nlc3REaXN0ID0gZGlzdDtcclxuICAgICAgY2xvc2VzdCA9IG9iajtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBjbG9zZXN0O1xyXG59XHJcbiJdLCJuYW1lcyI6WyJUSUxFX1NJWkUiLCJQTEFZRVJfU0laRSIsIklOVEVSQUNUSU9OX0RJU1RBTkNFIiwiSU5URVJBQ1RBQkxFUyIsIldBTEtBQkxFX01BUCIsIk1BUF9DT0xTIiwiTUFQX1JPV1MiLCJpc1RpbGVXYWxrYWJsZSIsInB4IiwicHkiLCJjb2wiLCJNYXRoIiwiZmxvb3IiLCJyb3ciLCJjaGVja0NvbGxpc2lvbiIsInBhZGRpbmciLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJjaGVja1BvaW50cyIsIngiLCJ5IiwicHQiLCJmaW5kTmVhcmJ5SW50ZXJhY3RhYmxlIiwicGxheWVyQ1giLCJwbGF5ZXJDWSIsImNsb3Nlc3QiLCJjbG9zZXN0RGlzdCIsIkluZmluaXR5Iiwib2JqIiwib2JqTGVmdCIsIm9ialJpZ2h0Iiwid2lkdGgiLCJvYmpUb3AiLCJvYmpCb3R0b20iLCJoZWlnaHQiLCJuZWFyWCIsIm1heCIsIm1pbiIsIm5lYXJZIiwiZHgiLCJkeSIsImRpc3QiLCJzcXJ0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/game/collision.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/game/renderer.ts":
/*!******************************!*\
  !*** ./src/game/renderer.ts ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   renderAmbientLight: function() { return /* binding */ renderAmbientLight; },\n/* harmony export */   renderBackground: function() { return /* binding */ renderBackground; },\n/* harmony export */   renderForeground: function() { return /* binding */ renderForeground; },\n/* harmony export */   renderFrameOverlay: function() { return /* binding */ renderFrameOverlay; },\n/* harmony export */   renderInteractableHighlights: function() { return /* binding */ renderInteractableHighlights; },\n/* harmony export */   renderPlayer: function() { return /* binding */ renderPlayer; },\n/* harmony export */   renderPromptBubble: function() { return /* binding */ renderPromptBubble; },\n/* harmony export */   renderSceneYSorted: function() { return /* binding */ renderSceneYSorted; }\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"(app-pages-browser)/./src/game/constants.ts\");\n/**\r\n * üé® Ê∏≤ÊüìÂºïÊìé\r\n *\r\n * ËÉåÊôØ‰ΩøÁî® sprites.ts ÁöÑÈ¢ÑÊ∏≤Êüì Canvas (‰∏ÄÂ∏ßÁªòÂà∂ 936 ‰∏™ tile)Ôºå\r\n * ‰πãÂêéÊØèÂ∏ß‰ªÖ drawImage ‰∏ÄÊ¨° + ËßíËâ≤ / Á≤íÂ≠ê / ÂÖâÁÖßÂè†Âä†„ÄÇ\r\n */ \n// ==================== ËÉåÊôØ ====================\nfunction renderBackground(ctx, bg) {\n    if (bg) {\n        ctx.drawImage(bg, 0, 0);\n    } else {\n        ctx.fillStyle = \"#050303\";\n        ctx.fillRect(0, 0, _constants__WEBPACK_IMPORTED_MODULE_0__.MAP_COLS * _constants__WEBPACK_IMPORTED_MODULE_0__.TILE_SIZE, _constants__WEBPACK_IMPORTED_MODULE_0__.MAP_ROWS * _constants__WEBPACK_IMPORTED_MODULE_0__.TILE_SIZE);\n    }\n}\n// ==================== ÂâçÊôØ (Ê∑±Â∫¶ÈÅÆÊå°) ====================\nfunction renderForeground(ctx, fg) {\n    if (fg) {\n        ctx.drawImage(fg, 0, 0);\n    }\n}\n// ==================== Y-Sort Âú∫ÊôØÊ∏≤Êüì ====================\n/**\r\n * ÈÄêË°å Y-sort Ê∏≤Êüì: Â∞ÜÂâçÊôØ tile Ë°å‰∏éÁé©ÂÆ∂Êåâ Y ÂùêÊ†á‰∫§ÈîôÁªòÂà∂„ÄÇ\r\n *\r\n * ÂéüÁêÜ: Áé©ÂÆ∂ÁöÑ \"ËÑöÂ∫ï Y\" (playerY + PLAYER_SIZE) ÂÜ≥ÂÆöÊ∑±Â∫¶ÊéíÂ∫èÂü∫ÂáÜ„ÄÇ\r\n * - ÂâçÊôØË°åÁöÑÂ∫ïËæπ Y <= Áé©ÂÆ∂ËÑöÂ∫ï ‚Üí ÂÖàÁîªÂâçÊôØË°å (Áé©ÂÆ∂Âú®ÂâçÊôØÂâçÈù¢)\r\n * - ÂâçÊôØË°åÁöÑÂ∫ïËæπ Y > Áé©ÂÆ∂ËÑöÂ∫ï  ‚Üí ÂÖàÁîªÁé©ÂÆ∂ (ÂâçÊôØÈÅÆÊå°Áé©ÂÆ∂)\r\n *\r\n * ËøôÊ†∑Áé©ÂÆ∂Âêë‰∏äËµ∞Âà∞Ê°åÂ≠êÂêéÈù¢Êó∂Ë¢´Ê°åÂ≠êÈÅÆÊå°ÔºåÂêë‰∏ãËµ∞Âà∞Ê°åÂ≠êÂâçÈù¢Êó∂ÈÅÆÊå°Ê°åÂ≠ê„ÄÇ\r\n */ function renderSceneYSorted(ctx, foregroundRows, playerX, playerY, direction, animFrame, isMoving, playerSprite) {\n    // Áé©ÂÆ∂ËÑöÂ∫ï Y ‰Ωú‰∏∫Ê∑±Â∫¶Âü∫ÂáÜ\n    const playerFootY = playerY + _constants__WEBPACK_IMPORTED_MODULE_0__.PLAYER_SIZE;\n    let playerDrawn = false;\n    for(let row = 0; row < foregroundRows.length; row++){\n        const rowCanvas = foregroundRows[row];\n        // Ëøô‰∏ÄË°å tile ÁöÑÂ∫ïËæπ Y (ÂÉèÁ¥†)\n        const rowBottomY = (row + 1) * _constants__WEBPACK_IMPORTED_MODULE_0__.TILE_SIZE;\n        // ÂΩìÂà∞ËææÁ¨¨‰∏Ä‰∏™Â∫ïËæπ > Áé©ÂÆ∂ËÑöÂ∫ïÁöÑÂâçÊôØË°åÊó∂, ÂÖàÁîªÁé©ÂÆ∂\n        if (!playerDrawn && rowBottomY > playerFootY) {\n            renderPlayer(ctx, playerX, playerY, direction, animFrame, isMoving, playerSprite);\n            playerDrawn = true;\n        }\n        // ÁîªËøô‰∏ÄË°åÂâçÊôØ (Â¶ÇÊûúÊúâÂÜÖÂÆπ)\n        if (rowCanvas) {\n            ctx.drawImage(rowCanvas, 0, row * _constants__WEBPACK_IMPORTED_MODULE_0__.TILE_SIZE);\n        }\n    }\n    // Â¶ÇÊûúÁé©ÂÆ∂Âú®ÊâÄÊúâÂâçÊôØË°å‰πã‰∏ã (ÊûÅÁ´ØÊÉÖÂÜµ), ÊúÄÂêéÁîª\n    if (!playerDrawn) {\n        renderPlayer(ctx, playerX, playerY, direction, animFrame, isMoving, playerSprite);\n    }\n}\n// ==================== ÊàøÈó¥Ê°ÜÊû∂Ë¶ÜÁõñÂ±Ç (ÂßãÁªàÈÅÆÊå°Áé©ÂÆ∂) ====================\nfunction renderFrameOverlay(ctx, frameOverlay) {\n    if (frameOverlay) {\n        ctx.drawImage(frameOverlay, 0, 0);\n    }\n}\n// ==================== ÂèØ‰∫íÂä®Áâ©‰ΩìÈ´ò‰∫Æ ====================\nfunction renderInteractableHighlights(ctx, nearbyId, time) {\n    if (!nearbyId) return;\n    const obj = _constants__WEBPACK_IMPORTED_MODULE_0__.INTERACTABLES.find((o)=>o.id === nearbyId);\n    if (!obj) return;\n    const px = obj.x * _constants__WEBPACK_IMPORTED_MODULE_0__.TILE_SIZE;\n    const py = obj.y * _constants__WEBPACK_IMPORTED_MODULE_0__.TILE_SIZE;\n    const w = obj.width * _constants__WEBPACK_IMPORTED_MODULE_0__.TILE_SIZE;\n    const h = obj.height * _constants__WEBPACK_IMPORTED_MODULE_0__.TILE_SIZE;\n    const glow = Math.sin(time * 0.005) * 0.3 + 0.5;\n    ctx.save();\n    ctx.strokeStyle = \"rgba(255, 215, 0, \".concat(glow, \")\");\n    ctx.lineWidth = 3;\n    ctx.shadowColor = \"#FFD700\";\n    ctx.shadowBlur = 12 * glow;\n    ctx.strokeRect(px + 1, py + 1, w - 2, h - 2);\n    ctx.restore();\n}\n// ==================== Áé©ÂÆ∂Á≤æÁÅµÂèÇÊï∞ ====================\n/**\r\n * Á≤æÁÅµÂõæÂ∏ÉÂ±Ä: 3 Âàó √ó 4 Ë°å, ÊØèÂ∏ß 407√ó661 ÂÉèÁ¥†\r\n * Ë°åÈ°∫Â∫è: down=0, left=1, right=2, up=3\r\n * ÂàóÈ°∫Â∫è: frame1(Á´ôÁ´ã), frame2(Â∑¶ËÑö), frame3(Âè≥ËÑö)\r\n * Ë°åËµ∞Âä®ÁîªÂ∫èÂàó: 1‚Üí2‚Üí1‚Üí3 (Á´ôÁ´ã‚ÜíÂ∑¶ËÑö‚ÜíÁ´ôÁ´ã‚ÜíÂè≥ËÑö)\r\n */ const SPRITE_FRAME_W = 429;\nconst SPRITE_FRAME_H = 583;\n/** ÊñπÂêë ‚Üí Á≤æÁÅµË°åÊò†Â∞Ñ: Down=0, Left=1, Right=2, Up=3 */ const DIR_TO_SPRITE_ROW = {\n    [_constants__WEBPACK_IMPORTED_MODULE_0__.Direction.DOWN]: 0,\n    [_constants__WEBPACK_IMPORTED_MODULE_0__.Direction.LEFT]: 1,\n    [_constants__WEBPACK_IMPORTED_MODULE_0__.Direction.RIGHT]: 2,\n    [_constants__WEBPACK_IMPORTED_MODULE_0__.Direction.UP]: 3\n};\n/** Ë°åËµ∞Âä®ÁîªÂ∏ßÂ∫èÂàó: ÂàóÁ¥¢Âºï 0=Á´ôÁ´ã, 1=Â∑¶ËÑö, 2=Âè≥ËÑö ‚Üí Êí≠Êîæ 0,1,0,2 */ const WALK_ANIM_SEQUENCE = [\n    0,\n    1,\n    0,\n    2\n];\n/** Âú®Ê∏∏Êàè‰∏≠ÁöÑÊòæÁ§∫Â∞∫ÂØ∏ (ÈÄÇÈÖç PLAYER_SIZE=28 ÁöÑÁ¢∞ÊíûÁõí) */ const DRAW_W = 38;\nconst DRAW_H = Math.round(DRAW_W * (SPRITE_FRAME_H / SPRITE_FRAME_W)); // ‚âà62\n// ==================== Áé©ÂÆ∂Ê∏≤Êüì ====================\nfunction renderPlayer(ctx, x, y, direction, animFrame, isMoving, playerSprite) {\n    if (!playerSprite) {\n        ctx.fillStyle = \"#FF8FAB\";\n        ctx.beginPath();\n        ctx.arc(x + _constants__WEBPACK_IMPORTED_MODULE_0__.PLAYER_SIZE / 2, y + _constants__WEBPACK_IMPORTED_MODULE_0__.PLAYER_SIZE / 2, _constants__WEBPACK_IMPORTED_MODULE_0__.PLAYER_SIZE / 2, 0, Math.PI * 2);\n        ctx.fill();\n        return;\n    }\n    ctx.save();\n    // ÈÄâÊã©Á≤æÁÅµÂ∏ß: Á´ôÁ´ã=col 0, Ë°åËµ∞=ÊåâÂ∫èÂàó 0‚Üí1‚Üí0‚Üí2\n    const spriteRow = DIR_TO_SPRITE_ROW[direction];\n    const col = isMoving ? WALK_ANIM_SEQUENCE[animFrame % WALK_ANIM_SEQUENCE.length] : 0;\n    const srcX = col * SPRITE_FRAME_W;\n    const srcY = spriteRow * SPRITE_FRAME_H;\n    // ÁªòÂà∂‰ΩçÁΩÆ: ‰ª•Á¢∞ÊíûÁõí‰∏∫Âü∫ÂáÜÂ±Ö‰∏≠, Á≤æÁÅµÂûÇÁõ¥Â±Ö‰∏≠ÂØπÈΩê (ÂáèÂ∞èË∑≥Âä®)\n    const drawX = x + _constants__WEBPACK_IMPORTED_MODULE_0__.PLAYER_SIZE / 2 - DRAW_W / 2;\n    const drawY = y + _constants__WEBPACK_IMPORTED_MODULE_0__.PLAYER_SIZE / 2 - DRAW_H / 2;\n    ctx.drawImage(playerSprite, srcX, srcY, SPRITE_FRAME_W, SPRITE_FRAME_H, drawX, drawY, DRAW_W, DRAW_H);\n    ctx.restore();\n}\n// ==================== ‰∫íÂä®ÊèêÁ§∫Ê∞îÊ≥° ====================\nfunction renderPromptBubble(ctx, x, y, label, time) {\n    const bubbleY = y - 24 + Math.sin(time * 0.004) * 3;\n    const text = \"Êåâ E ‚Äî \".concat(label);\n    ctx.save();\n    ctx.font = '11px \"Press Start 2P\", monospace';\n    ctx.textAlign = \"center\";\n    const metrics = ctx.measureText(text);\n    const padding = 10;\n    const w = metrics.width + padding * 2;\n    const h = 24;\n    ctx.fillStyle = \"rgba(0,0,0,0.9)\";\n    roundRect(ctx, x - w / 2, bubbleY - h / 2, w, h, 8);\n    ctx.fill();\n    ctx.strokeStyle = \"#FFD700\";\n    ctx.lineWidth = 2;\n    roundRect(ctx, x - w / 2, bubbleY - h / 2, w, h, 8);\n    ctx.stroke();\n    ctx.strokeStyle = \"rgba(255,215,0,0.3)\";\n    ctx.lineWidth = 1;\n    roundRect(ctx, x - w / 2 + 2, bubbleY - h / 2 + 2, w - 4, h - 4, 6);\n    ctx.stroke();\n    ctx.fillStyle = \"rgba(0,0,0,0.9)\";\n    ctx.beginPath();\n    ctx.moveTo(x - 6, bubbleY + h / 2);\n    ctx.lineTo(x, bubbleY + h / 2 + 7);\n    ctx.lineTo(x + 6, bubbleY + h / 2);\n    ctx.closePath();\n    ctx.fill();\n    ctx.strokeStyle = \"#FFD700\";\n    ctx.lineWidth = 2;\n    ctx.beginPath();\n    ctx.moveTo(x - 6, bubbleY + h / 2);\n    ctx.lineTo(x, bubbleY + h / 2 + 7);\n    ctx.lineTo(x + 6, bubbleY + h / 2);\n    ctx.stroke();\n    ctx.fillStyle = \"#000000\";\n    ctx.textBaseline = \"middle\";\n    ctx.fillText(text, x + 1, bubbleY + 1);\n    ctx.fillStyle = \"#FFFFFF\";\n    ctx.fillText(text, x, bubbleY);\n    ctx.fillStyle = \"#FFD700\";\n    ctx.fillText(\"E\", x - metrics.width / 2 + 16, bubbleY);\n    ctx.restore();\n}\n// ==================== ÂÖâÁÖß / Ê∞õÂõ¥ ====================\nfunction renderAmbientLight(ctx, _time) {\n    const w = ctx.canvas.width;\n    const h = ctx.canvas.height;\n    // ÊöñËâ≤Ë∞ÉÂè†Âä†\n    ctx.fillStyle = \"rgba(255, 240, 200, 0.03)\";\n    ctx.fillRect(0, 0, w, h);\n    // Vignette\n    const grad = ctx.createRadialGradient(w / 2, h / 2, w * 0.3, w / 2, h / 2, w * 0.7);\n    grad.addColorStop(0, \"rgba(0,0,0,0)\");\n    grad.addColorStop(1, \"rgba(0,0,0,0.12)\");\n    ctx.fillStyle = grad;\n    ctx.fillRect(0, 0, w, h);\n}\n// ==================== ËæÖÂä© ====================\nfunction roundRect(ctx, x, y, w, h, r) {\n    ctx.beginPath();\n    ctx.moveTo(x + r, y);\n    ctx.lineTo(x + w - r, y);\n    ctx.quadraticCurveTo(x + w, y, x + w, y + r);\n    ctx.lineTo(x + w, y + h - r);\n    ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);\n    ctx.lineTo(x + r, y + h);\n    ctx.quadraticCurveTo(x, y + h, x, y + h - r);\n    ctx.lineTo(x, y + r);\n    ctx.quadraticCurveTo(x, y, x + r, y);\n    ctx.closePath();\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9nYW1lL3JlbmRlcmVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBOzs7OztDQUtDLEdBUW9CO0FBRXJCLCtDQUErQztBQUN4QyxTQUFTTSxpQkFDZEMsR0FBNkIsRUFDN0JDLEVBQTRCO0lBRTVCLElBQUlBLElBQUk7UUFDTkQsSUFBSUUsU0FBUyxDQUFDRCxJQUFJLEdBQUc7SUFDdkIsT0FBTztRQUNMRCxJQUFJRyxTQUFTLEdBQUc7UUFDaEJILElBQUlJLFFBQVEsQ0FBQyxHQUFHLEdBQUdQLGdEQUFRQSxHQUFHSixpREFBU0EsRUFBRUssZ0RBQVFBLEdBQUdMLGlEQUFTQTtJQUMvRDtBQUNGO0FBRUEsc0RBQXNEO0FBQy9DLFNBQVNZLGlCQUNkTCxHQUE2QixFQUM3Qk0sRUFBNEI7SUFFNUIsSUFBSUEsSUFBSTtRQUNOTixJQUFJRSxTQUFTLENBQUNJLElBQUksR0FBRztJQUN2QjtBQUNGO0FBRUEsd0RBQXdEO0FBQ3hEOzs7Ozs7OztDQVFDLEdBQ00sU0FBU0MsbUJBQ2RQLEdBQTZCLEVBQzdCUSxjQUE0QyxFQUM1Q0MsT0FBZSxFQUNmQyxPQUFlLEVBQ2ZDLFNBQW9CLEVBQ3BCQyxTQUFpQixFQUNqQkMsUUFBaUIsRUFDakJDLFlBQXNDO0lBRXRDLGdCQUFnQjtJQUNoQixNQUFNQyxjQUFjTCxVQUFVaEIsbURBQVdBO0lBQ3pDLElBQUlzQixjQUFjO0lBRWxCLElBQUssSUFBSUMsTUFBTSxHQUFHQSxNQUFNVCxlQUFlVSxNQUFNLEVBQUVELE1BQU87UUFDcEQsTUFBTUUsWUFBWVgsY0FBYyxDQUFDUyxJQUFJO1FBQ3JDLHNCQUFzQjtRQUN0QixNQUFNRyxhQUFhLENBQUNILE1BQU0sS0FBS3hCLGlEQUFTQTtRQUV4Qyw2QkFBNkI7UUFDN0IsSUFBSSxDQUFDdUIsZUFBZUksYUFBYUwsYUFBYTtZQUM1Q00sYUFBYXJCLEtBQUtTLFNBQVNDLFNBQVNDLFdBQVdDLFdBQVdDLFVBQVVDO1lBQ3BFRSxj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QUFNLENBQUNsRCxJQUFJNEQsR0FBRzFELElBQUlHO0lBQ3RCckMsSUFBSTZGLGdCQUFnQixDQUFDN0QsR0FBR0UsSUFBSUcsR0FBR0wsR0FBR0UsSUFBSUcsSUFBSXVEO0lBQzFDNUYsSUFBSWtGLE1BQU0sQ0FBQ2xELEdBQUdFLElBQUkwRDtJQUNsQjVGLElBQUk2RixnQkFBZ0IsQ0FBQzdELEdBQUdFLEdBQUdGLElBQUk0RCxHQUFHMUQ7SUFDbENsQyxJQUFJbUYsU0FBUztBQUNmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9nYW1lL3JlbmRlcmVyLnRzPzM2OTciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIPCfjqgg5riy5p+T5byV5pOOXHJcbiAqXHJcbiAqIOiDjOaZr+S9v+eUqCBzcHJpdGVzLnRzIOeahOmihOa4suafkyBDYW52YXMgKOS4gOW4p+e7mOWItiA5MzYg5LiqIHRpbGUp77yMXHJcbiAqIOS5i+WQjuavj+W4p+S7hSBkcmF3SW1hZ2Ug5LiA5qyhICsg6KeS6ImyIC8g57KS5a2QIC8g5YWJ54Wn5Y+g5Yqg44CCXHJcbiAqL1xyXG5pbXBvcnQge1xyXG4gIFRJTEVfU0laRSxcclxuICBQTEFZRVJfU0laRSxcclxuICBEaXJlY3Rpb24sXHJcbiAgSU5URVJBQ1RBQkxFUyxcclxuICBNQVBfQ09MUyxcclxuICBNQVBfUk9XUyxcclxufSBmcm9tICcuL2NvbnN0YW50cyc7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PSDog4zmma8gPT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlckJhY2tncm91bmQoXHJcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXHJcbiAgYmc6IEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbFxyXG4pIHtcclxuICBpZiAoYmcpIHtcclxuICAgIGN0eC5kcmF3SW1hZ2UoYmcsIDAsIDApO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjdHguZmlsbFN0eWxlID0gJyMwNTAzMDMnO1xyXG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIE1BUF9DT0xTICogVElMRV9TSVpFLCBNQVBfUk9XUyAqIFRJTEVfU0laRSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PSDliY3mma8gKOa3seW6pumBruaMoSkgPT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlckZvcmVncm91bmQoXHJcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXHJcbiAgZmc6IEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbFxyXG4pIHtcclxuICBpZiAoZmcpIHtcclxuICAgIGN0eC5kcmF3SW1hZ2UoZmcsIDAsIDApO1xyXG4gIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT0gWS1Tb3J0IOWcuuaZr+a4suafkyA9PT09PT09PT09PT09PT09PT09PVxyXG4vKipcclxuICog6YCQ6KGMIFktc29ydCDmuLLmn5M6IOWwhuWJjeaZryB0aWxlIOihjOS4jueOqeWutuaMiSBZIOWdkOagh+S6pOmUmee7mOWItuOAglxyXG4gKlxyXG4gKiDljp/nkIY6IOeOqeWutueahCBcIuiEmuW6lSBZXCIgKHBsYXllclkgKyBQTEFZRVJfU0laRSkg5Yaz5a6a5rex5bqm5o6S5bqP5Z+65YeG44CCXHJcbiAqIC0g5YmN5pmv6KGM55qE5bqV6L65IFkgPD0g546p5a626ISa5bqVIOKGkiDlhYjnlLvliY3mma/ooYwgKOeOqeWutuWcqOWJjeaZr+WJjemdoilcclxuICogLSDliY3mma/ooYznmoTlupXovrkgWSA+IOeOqeWutuiEmuW6lSAg4oaSIOWFiOeUu+eOqeWutiAo5YmN5pmv6YGu5oyh546p5a62KVxyXG4gKlxyXG4gKiDov5nmoLfnjqnlrrblkJHkuIrotbDliLDmoYzlrZDlkI7pnaLml7booqvmoYzlrZDpga7mjKHvvIzlkJHkuIvotbDliLDmoYzlrZDliY3pnaLml7bpga7mjKHmoYzlrZDjgIJcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJTY2VuZVlTb3J0ZWQoXHJcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXHJcbiAgZm9yZWdyb3VuZFJvd3M6IChIVE1MQ2FudmFzRWxlbWVudCB8IG51bGwpW10sXHJcbiAgcGxheWVyWDogbnVtYmVyLFxyXG4gIHBsYXllclk6IG51bWJlcixcclxuICBkaXJlY3Rpb246IERpcmVjdGlvbixcclxuICBhbmltRnJhbWU6IG51bWJlcixcclxuICBpc01vdmluZzogYm9vbGVhbixcclxuICBwbGF5ZXJTcHJpdGU/OiBIVE1MSW1hZ2VFbGVtZW50IHwgbnVsbFxyXG4pIHtcclxuICAvLyDnjqnlrrbohJrlupUgWSDkvZzkuLrmt7Hluqbln7rlh4ZcclxuICBjb25zdCBwbGF5ZXJGb290WSA9IHBsYXllclkgKyBQTEFZRVJfU0laRTtcclxuICBsZXQgcGxheWVyRHJhd24gPSBmYWxzZTtcclxuXHJcbiAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgZm9yZWdyb3VuZFJvd3MubGVuZ3RoOyByb3crKykge1xyXG4gICAgY29uc3Qgcm93Q2FudmFzID0gZm9yZWdyb3VuZFJvd3Nbcm93XTtcclxuICAgIC8vIOi/meS4gOihjCB0aWxlIOeahOW6lei+uSBZICjlg4/ntKApXHJcbiAgICBjb25zdCByb3dCb3R0b21ZID0gKHJvdyArIDEpICogVElMRV9TSVpFO1xyXG5cclxuICAgIC8vIOW9k+WIsOi+vuesrOS4gOS4quW6lei+uSA+IOeOqeWutuiEmuW6leeahOWJjeaZr+ihjOaXtiwg5YWI55S7546p5a62XHJcbiAgICBpZiAoIXBsYXllckRyYXduICYmIHJvd0JvdHRvbVkgPiBwbGF5ZXJGb290WSkge1xyXG4gICAgICByZW5kZXJQbGF5ZXIoY3R4LCBwbGF5ZXJYLCBwbGF5ZXJZLCBkaXJlY3Rpb24sIGFuaW1GcmFtZSwgaXNNb3ZpbmcsIHBsYXllclNwcml0ZSk7XHJcbiAgICAgIHBsYXllckRyYXduID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDnlLvov5nkuIDooYzliY3mma8gKOWmguaenOacieWGheWuuSlcclxuICAgIGlmIChyb3dDYW52YXMpIHtcclxuICAgICAgY3R4LmRyYXdJbWFnZShyb3dDYW52YXMsIDAsIHJvdyAqIFRJTEVfU0laRSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDlpoLmnpznjqnlrrblnKjmiYDmnInliY3mma/ooYzkuYvkuIsgKOaegeerr+aDheWGtSksIOacgOWQjueUu1xyXG4gIGlmICghcGxheWVyRHJhd24pIHtcclxuICAgIHJlbmRlclBsYXllcihjdHgsIHBsYXllclgsIHBsYXllclksIGRpcmVjdGlvbiwgYW5pbUZyYW1lLCBpc01vdmluZywgcGxheWVyU3ByaXRlKTtcclxuICB9XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09IOaIv+mXtOahhuaetuimhuebluWxgiAo5aeL57uI6YGu5oyh546p5a62KSA9PT09PT09PT09PT09PT09PT09PVxyXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyRnJhbWVPdmVybGF5KFxyXG4gIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxyXG4gIGZyYW1lT3ZlcmxheTogSFRNTENhbnZhc0VsZW1lbnQgfCBudWxsXHJcbikge1xyXG4gIGlmIChmcmFtZU92ZXJsYXkpIHtcclxuICAgIGN0eC5kcmF3SW1hZ2UoZnJhbWVPdmVybGF5LCAwLCAwKTtcclxuICB9XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09IOWPr+S6kuWKqOeJqeS9k+mrmOS6riA9PT09PT09PT09PT09PT09PT09PVxyXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVySW50ZXJhY3RhYmxlSGlnaGxpZ2h0cyhcclxuICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcclxuICBuZWFyYnlJZDogc3RyaW5nIHwgbnVsbCxcclxuICB0aW1lOiBudW1iZXJcclxuKSB7XHJcbiAgaWYgKCFuZWFyYnlJZCkgcmV0dXJuO1xyXG5cclxuICBjb25zdCBvYmogPSBJTlRFUkFDVEFCTEVTLmZpbmQoKG8pID0+IG8uaWQgPT09IG5lYXJieUlkKTtcclxuICBpZiAoIW9iaikgcmV0dXJuO1xyXG5cclxuICBjb25zdCBweCA9IG9iai54ICogVElMRV9TSVpFO1xyXG4gIGNvbnN0IHB5ID0gb2JqLnkgKiBUSUxFX1NJWkU7XHJcbiAgY29uc3QgdyA9IG9iai53aWR0aCAqIFRJTEVfU0laRTtcclxuICBjb25zdCBoID0gb2JqLmhlaWdodCAqIFRJTEVfU0laRTtcclxuXHJcbiAgY29uc3QgZ2xvdyA9IE1hdGguc2luKHRpbWUgKiAwLjAwNSkgKiAwLjMgKyAwLjU7XHJcblxyXG4gIGN0eC5zYXZlKCk7XHJcbiAgY3R4LnN0cm9rZVN0eWxlID0gYHJnYmEoMjU1LCAyMTUsIDAsICR7Z2xvd30pYDtcclxuICBjdHgubGluZVdpZHRoID0gMztcclxuICBjdHguc2hhZG93Q29sb3IgPSAnI0ZGRDcwMCc7XHJcbiAgY3R4LnNoYWRvd0JsdXIgPSAxMiAqIGdsb3c7XHJcbiAgY3R4LnN0cm9rZVJlY3QocHggKyAxLCBweSArIDEsIHcgLSAyLCBoIC0gMik7XHJcbiAgY3R4LnJlc3RvcmUoKTtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT0g546p5a6257K+54G15Y+C5pWwID09PT09PT09PT09PT09PT09PT09XHJcbi8qKlxyXG4gKiDnsr7ngbXlm77luIPlsYA6IDMg5YiXIMOXIDQg6KGMLCDmr4/luKcgNDA3w5c2NjEg5YOP57SgXHJcbiAqIOihjOmhuuW6jzogZG93bj0wLCBsZWZ0PTEsIHJpZ2h0PTIsIHVwPTNcclxuICog5YiX6aG65bqPOiBmcmFtZTEo56uZ56uLKSwgZnJhbWUyKOW3puiEmiksIGZyYW1lMyjlj7PohJopXHJcbiAqIOihjOi1sOWKqOeUu+W6j+WIlzogMeKGkjLihpIx4oaSMyAo56uZ56uL4oaS5bem6ISa4oaS56uZ56uL4oaS5Y+z6ISaKVxyXG4gKi9cclxuY29uc3QgU1BSSVRFX0ZSQU1FX1cgPSA0Mjk7XHJcbmNvbnN0IFNQUklURV9GUkFNRV9IID0gNTgzO1xyXG4vKiog5pa55ZCRIOKGkiDnsr7ngbXooYzmmKDlsIQ6IERvd249MCwgTGVmdD0xLCBSaWdodD0yLCBVcD0zICovXHJcbmNvbnN0IERJUl9UT19TUFJJVEVfUk9XOiBSZWNvcmQ8RGlyZWN0aW9uLCBudW1iZXI+ID0ge1xyXG4gIFtEaXJlY3Rpb24uRE9XTl06ICAwLFxyXG4gIFtEaXJlY3Rpb24uTEVGVF06ICAxLFxyXG4gIFtEaXJlY3Rpb24uUklHSFRdOiAyLFxyXG4gIFtEaXJlY3Rpb24uVVBdOiAgICAzLFxyXG59O1xyXG4vKiog6KGM6LWw5Yqo55S75bin5bqP5YiXOiDliJfntKLlvJUgMD3nq5nnq4ssIDE95bem6ISaLCAyPeWPs+iEmiDihpIg5pKt5pS+IDAsMSwwLDIgKi9cclxuY29uc3QgV0FMS19BTklNX1NFUVVFTkNFID0gWzAsIDEsIDAsIDJdO1xyXG4vKiog5Zyo5ri45oiP5Lit55qE5pi+56S65bC65a+4ICjpgILphY0gUExBWUVSX1NJWkU9Mjgg55qE56Kw5pKe55uSKSAqL1xyXG5jb25zdCBEUkFXX1cgPSAzODtcclxuY29uc3QgRFJBV19IID0gTWF0aC5yb3VuZChEUkFXX1cgKiAoU1BSSVRFX0ZSQU1FX0ggLyBTUFJJVEVfRlJBTUVfVykpOyAvLyDiiYg2MlxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT0g546p5a625riy5p+TID09PT09PT09PT09PT09PT09PT09XHJcbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJQbGF5ZXIoXHJcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXHJcbiAgeDogbnVtYmVyLFxyXG4gIHk6IG51bWJlcixcclxuICBkaXJlY3Rpb246IERpcmVjdGlvbixcclxuICBhbmltRnJhbWU6IG51bWJlcixcclxuICBpc01vdmluZzogYm9vbGVhbixcclxuICBwbGF5ZXJTcHJpdGU/OiBIVE1MSW1hZ2VFbGVtZW50IHwgbnVsbFxyXG4pIHtcclxuICBpZiAoIXBsYXllclNwcml0ZSkge1xyXG4gICAgY3R4LmZpbGxTdHlsZSA9ICcjRkY4RkFCJztcclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5hcmMoeCArIFBMQVlFUl9TSVpFIC8gMiwgeSArIFBMQVlFUl9TSVpFIC8gMiwgUExBWUVSX1NJWkUgLyAyLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICBjdHguZmlsbCgpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY3R4LnNhdmUoKTtcclxuXHJcbiAgLy8g6YCJ5oup57K+54G15binOiDnq5nnq4s9Y29sIDAsIOihjOi1sD3mjInluo/liJcgMOKGkjHihpIw4oaSMlxyXG4gIGNvbnN0IHNwcml0ZVJvdyA9IERJUl9UT19TUFJJVEVfUk9XW2RpcmVjdGlvbl07XHJcbiAgY29uc3QgY29sID0gaXNNb3ZpbmcgPyBXQUxLX0FOSU1fU0VRVUVOQ0VbYW5pbUZyYW1lICUgV0FMS19BTklNX1NFUVVFTkNFLmxlbmd0aF0gOiAwO1xyXG4gIGNvbnN0IHNyY1ggPSBjb2wgKiBTUFJJVEVfRlJBTUVfVztcclxuICBjb25zdCBzcmNZID0gc3ByaXRlUm93ICogU1BSSVRFX0ZSQU1FX0g7XHJcblxyXG4gIC8vIOe7mOWItuS9jee9rjog5Lul56Kw5pKe55uS5Li65Z+65YeG5bGF5LitLCDnsr7ngbXlnoLnm7TlsYXkuK3lr7npvZAgKOWHj+Wwj+i3s+WKqClcclxuICBjb25zdCBkcmF3WCA9IHggKyBQTEFZRVJfU0laRSAvIDIgLSBEUkFXX1cgLyAyO1xyXG4gIGNvbnN0IGRyYXdZID0geSArIFBMQVlFUl9TSVpFIC8gMiAtIERSQVdfSCAvIDI7XHJcblxyXG4gIGN0eC5kcmF3SW1hZ2UoXHJcbiAgICBwbGF5ZXJTcHJpdGUsXHJcbiAgICBzcmNYLCBzcmNZLCBTUFJJVEVfRlJBTUVfVywgU1BSSVRFX0ZSQU1FX0gsXHJcbiAgICBkcmF3WCwgZHJhd1ksIERSQVdfVywgRFJBV19IXHJcbiAgKTtcclxuXHJcbiAgY3R4LnJlc3RvcmUoKTtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT0g5LqS5Yqo5o+Q56S65rCU5rOhID09PT09PT09PT09PT09PT09PT09XHJcbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJQcm9tcHRCdWJibGUoXHJcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXHJcbiAgeDogbnVtYmVyLFxyXG4gIHk6IG51bWJlcixcclxuICBsYWJlbDogc3RyaW5nLFxyXG4gIHRpbWU6IG51bWJlclxyXG4pIHtcclxuICBjb25zdCBidWJibGVZID0geSAtIDI0ICsgTWF0aC5zaW4odGltZSAqIDAuMDA0KSAqIDM7XHJcbiAgY29uc3QgdGV4dCA9IGDmjIkgRSDigJQgJHtsYWJlbH1gO1xyXG5cclxuICBjdHguc2F2ZSgpO1xyXG4gIGN0eC5mb250ID0gJzExcHggXCJQcmVzcyBTdGFydCAyUFwiLCBtb25vc3BhY2UnO1xyXG4gIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcclxuICBjb25zdCBtZXRyaWNzID0gY3R4Lm1lYXN1cmVUZXh0KHRleHQpO1xyXG4gIGNvbnN0IHBhZGRpbmcgPSAxMDtcclxuICBjb25zdCB3ID0gbWV0cmljcy53aWR0aCArIHBhZGRpbmcgKiAyO1xyXG4gIGNvbnN0IGggPSAyNDtcclxuXHJcbiAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsMCwwLDAuOSknO1xyXG4gIHJvdW5kUmVjdChjdHgsIHggLSB3IC8gMiwgYnViYmxlWSAtIGggLyAyLCB3LCBoLCA4KTtcclxuICBjdHguZmlsbCgpO1xyXG5cclxuICBjdHguc3Ryb2tlU3R5bGUgPSAnI0ZGRDcwMCc7XHJcbiAgY3R4LmxpbmVXaWR0aCA9IDI7XHJcbiAgcm91bmRSZWN0KGN0eCwgeCAtIHcgLyAyLCBidWJibGVZIC0gaCAvIDIsIHcsIGgsIDgpO1xyXG4gIGN0eC5zdHJva2UoKTtcclxuXHJcbiAgY3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LDIxNSwwLDAuMyknO1xyXG4gIGN0eC5saW5lV2lkdGggPSAxO1xyXG4gIHJvdW5kUmVjdChjdHgsIHggLSB3IC8gMiArIDIsIGJ1YmJsZVkgLSBoIC8gMiArIDIsIHcgLSA0LCBoIC0gNCwgNik7XHJcbiAgY3R4LnN0cm9rZSgpO1xyXG5cclxuICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwwLDAsMC45KSc7XHJcbiAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gIGN0eC5tb3ZlVG8oeCAtIDYsIGJ1YmJsZVkgKyBoIC8gMik7XHJcbiAgY3R4LmxpbmVUbyh4LCBidWJibGVZICsgaCAvIDIgKyA3KTtcclxuICBjdHgubGluZVRvKHggKyA2LCBidWJibGVZICsgaCAvIDIpO1xyXG4gIGN0eC5jbG9zZVBhdGgoKTtcclxuICBjdHguZmlsbCgpO1xyXG4gIGN0eC5zdHJva2VTdHlsZSA9ICcjRkZENzAwJztcclxuICBjdHgubGluZVdpZHRoID0gMjtcclxuICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgY3R4Lm1vdmVUbyh4IC0gNiwgYnViYmxlWSArIGggLyAyKTtcclxuICBjdHgubGluZVRvKHgsIGJ1YmJsZVkgKyBoIC8gMiArIDcpO1xyXG4gIGN0eC5saW5lVG8oeCArIDYsIGJ1YmJsZVkgKyBoIC8gMik7XHJcbiAgY3R4LnN0cm9rZSgpO1xyXG5cclxuICBjdHguZmlsbFN0eWxlID0gJyMwMDAwMDAnO1xyXG4gIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcclxuICBjdHguZmlsbFRleHQodGV4dCwgeCArIDEsIGJ1YmJsZVkgKyAxKTtcclxuICBjdHguZmlsbFN0eWxlID0gJyNGRkZGRkYnO1xyXG4gIGN0eC5maWxsVGV4dCh0ZXh0LCB4LCBidWJibGVZKTtcclxuICBjdHguZmlsbFN0eWxlID0gJyNGRkQ3MDAnO1xyXG4gIGN0eC5maWxsVGV4dCgnRScsIHggLSBtZXRyaWNzLndpZHRoIC8gMiArIDE2LCBidWJibGVZKTtcclxuXHJcbiAgY3R4LnJlc3RvcmUoKTtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT0g5YWJ54WnIC8g5rCb5Zu0ID09PT09PT09PT09PT09PT09PT09XHJcbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJBbWJpZW50TGlnaHQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIF90aW1lOiBudW1iZXIpIHtcclxuICBjb25zdCB3ID0gY3R4LmNhbnZhcy53aWR0aDtcclxuICBjb25zdCBoID0gY3R4LmNhbnZhcy5oZWlnaHQ7XHJcblxyXG4gIC8vIOaaluiJsuiwg+WPoOWKoFxyXG4gIGN0eC5maWxsU3R5bGUgPSAncmdiYSgyNTUsIDI0MCwgMjAwLCAwLjAzKSc7XHJcbiAgY3R4LmZpbGxSZWN0KDAsIDAsIHcsIGgpO1xyXG5cclxuICAvLyBWaWduZXR0ZVxyXG4gIGNvbnN0IGdyYWQgPSBjdHguY3JlYXRlUmFkaWFsR3JhZGllbnQodyAvIDIsIGggLyAyLCB3ICogMC4zLCB3IC8gMiwgaCAvIDIsIHcgKiAwLjcpO1xyXG4gIGdyYWQuYWRkQ29sb3JTdG9wKDAsICdyZ2JhKDAsMCwwLDApJyk7XHJcbiAgZ3JhZC5hZGRDb2xvclN0b3AoMSwgJ3JnYmEoMCwwLDAsMC4xMiknKTtcclxuICBjdHguZmlsbFN0eWxlID0gZ3JhZDtcclxuICBjdHguZmlsbFJlY3QoMCwgMCwgdywgaCk7XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09IOi+heWKqSA9PT09PT09PT09PT09PT09PT09PVxyXG5mdW5jdGlvbiByb3VuZFJlY3QoXHJcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXHJcbiAgeDogbnVtYmVyLCB5OiBudW1iZXIsIHc6IG51bWJlciwgaDogbnVtYmVyLCByOiBudW1iZXJcclxuKSB7XHJcbiAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gIGN0eC5tb3ZlVG8oeCArIHIsIHkpO1xyXG4gIGN0eC5saW5lVG8oeCArIHcgLSByLCB5KTtcclxuICBjdHgucXVhZHJhdGljQ3VydmVUbyh4ICsgdywgeSwgeCArIHcsIHkgKyByKTtcclxuICBjdHgubGluZVRvKHggKyB3LCB5ICsgaCAtIHIpO1xyXG4gIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHggKyB3LCB5ICsgaCwgeCArIHcgLSByLCB5ICsgaCk7XHJcbiAgY3R4LmxpbmVUbyh4ICsgciwgeSArIGgpO1xyXG4gIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHgsIHkgKyBoLCB4LCB5ICsgaCAtIHIpO1xyXG4gIGN0eC5saW5lVG8oeCwgeSArIHIpO1xyXG4gIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHgsIHksIHggKyByLCB5KTtcclxuICBjdHguY2xvc2VQYXRoKCk7XHJcbn1cclxuIl0sIm5hbWVzIjpbIlRJTEVfU0laRSIsIlBMQVlFUl9TSVpFIiwiRGlyZWN0aW9uIiwiSU5URVJBQ1RBQkxFUyIsIk1BUF9DT0xTIiwiTUFQX1JPV1MiLCJyZW5kZXJCYWNrZ3JvdW5kIiwiY3R4IiwiYmciLCJkcmF3SW1hZ2UiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInJlbmRlckZvcmVncm91bmQiLCJmZyIsInJlbmRlclNjZW5lWVNvcnRlZCIsImZvcmVncm91bmRSb3dzIiwicGxheWVyWCIsInBsYXllclkiLCJkaXJlY3Rpb24iLCJhbmltRnJhbWUiLCJpc01vdmluZyIsInBsYXllclNwcml0ZSIsInBsYXllckZvb3RZIiwicGxheWVyRHJhd24iLCJyb3ciLCJsZW5ndGgiLCJyb3dDYW52YXMiLCJyb3dCb3R0b21ZIiwicmVuZGVyUGxheWVyIiwicmVuZGVyRnJhbWVPdmVybGF5IiwiZnJhbWVPdmVybGF5IiwicmVuZGVySW50ZXJhY3RhYmxlSGlnaGxpZ2h0cyIsIm5lYXJieUlkIiwidGltZSIsIm9iaiIsImZpbmQiLCJvIiwiaWQiLCJweCIsIngiLCJweSIsInkiLCJ3Iiwid2lkdGgiLCJoIiwiaGVpZ2h0IiwiZ2xvdyIsIk1hdGgiLCJzaW4iLCJzYXZlIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJzaGFkb3dDb2xvciIsInNoYWRvd0JsdXIiLCJzdHJva2VSZWN0IiwicmVzdG9yZSIsIlNQUklURV9GUkFNRV9XIiwiU1BSSVRFX0ZSQU1FX0giLCJESVJfVE9fU1BSSVRFX1JPVyIsIkRPV04iLCJMRUZUIiwiUklHSFQiLCJVUCIsIldBTEtfQU5JTV9TRVFVRU5DRSIsIkRSQVdfVyIsIkRSQVdfSCIsInJvdW5kIiwiYmVnaW5QYXRoIiwiYXJjIiwiUEkiLCJmaWxsIiwic3ByaXRlUm93IiwiY29sIiwic3JjWCIsInNyY1kiLCJkcmF3WCIsImRyYXdZIiwicmVuZGVyUHJvbXB0QnViYmxlIiwibGFiZWwiLCJidWJibGVZIiwidGV4dCIsImZvbnQiLCJ0ZXh0QWxpZ24iLCJtZXRyaWNzIiwibWVhc3VyZVRleHQiLCJwYWRkaW5nIiwicm91bmRSZWN0Iiwic3Ryb2tlIiwibW92ZVRvIiwibGluZVRvIiwiY2xvc2VQYXRoIiwidGV4dEJhc2VsaW5lIiwiZmlsbFRleHQiLCJyZW5kZXJBbWJpZW50TGlnaHQiLCJfdGltZSIsImNhbnZhcyIsImdyYWQiLCJjcmVhdGVSYWRpYWxHcmFkaWVudCIsImFkZENvbG9yU3RvcCIsInIiLCJxdWFkcmF0aWNDdXJ2ZVRvIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/game/renderer.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/game/sprites.ts":
/*!*****************************!*\
  !*** ./src/game/sprites.ts ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SRC_TILE: function() { return /* binding */ SRC_TILE; },\n/* harmony export */   loadAllResources: function() { return /* binding */ loadAllResources; }\n/* harmony export */ });\n/**\r\n * üñºÔ∏è Á≤æÁÅµÁ≥ªÁªü ‚Äî ‰ΩøÁî® TMX ÂêàÊàêÁöÑ background.png + foreground.png\r\n *\r\n * background.png (576√ó368) ‚Äî ÂÆåÊï¥Âú∫ÊôØ (ÊâÄÊúâÂ±Ç)\r\n * foreground.png (576√ó368) ‚Äî ‰ªÖÂÆ∂ÂÖ∑/ÈöúÁ¢çÁâ©Â±Ç (Áî®‰∫éÊ∑±Â∫¶ÈÅÆÊå°)\r\n *\r\n * Ê∏≤ÊüìÈ°∫Â∫è: background ‚Üí ÈÄêË°å Y-sort (ÂâçÊôØË°å vs Áé©ÂÆ∂) ‚Üí UI\r\n * ÂâçÊôØË¢´ÂàáÊàêÊØèË°å‰∏ÄÊù°, ‰∏éÁé©ÂÆ∂Êåâ Y ÂùêÊ†áÊéíÂ∫è, ÂÆûÁé∞Ê≠£Á°ÆÁöÑÈÄèËßÜÈÅÆÊå°„ÄÇ\r\n */ // ==================== Á±ªÂûã ====================\nconst SRC_TILE = 16;\n// ==================== ÂõæÁâáÂä†ËΩΩÂô® ====================\nfunction loadImage(src) {\n    return new Promise((resolve)=>{\n        const img = new Image();\n        img.onload = ()=>resolve(img);\n        img.onerror = ()=>{\n            console.warn(\"‚ö†Ô∏è Êó†Ê≥ïÂä†ËΩΩ: \".concat(src));\n            resolve(null);\n        };\n        img.src = src;\n    });\n}\n// ==================== È¢ÑÊ∏≤Êüì ====================\nfunction preRenderLayer(image, cols, rows, tileSize, fillColor) {\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = cols * tileSize;\n    canvas.height = rows * tileSize;\n    const ctx = canvas.getContext(\"2d\");\n    ctx.imageSmoothingEnabled = false;\n    if (fillColor) {\n        ctx.fillStyle = fillColor;\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n    }\n    if (image) {\n        ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, canvas.width, canvas.height);\n    }\n    return canvas;\n}\n/**\r\n * Â∞ÜÂâçÊôØ canvas Êåâ tile Ë°åÂàáÊàêÁã¨Á´ã canvas Êù°„ÄÇ\r\n * Âè™ÊúâÂåÖÂê´ÈùûÈÄèÊòéÂÉèÁ¥†ÁöÑË°åÊâçÂàõÂª∫ canvas, ÂÖ∂‰Ωô‰∏∫ null„ÄÇ\r\n */ function sliceForegroundRows(fgCanvas, cols, rows, tileSize) {\n    const result = new Array(rows).fill(null);\n    const fullCtx = fgCanvas.getContext(\"2d\");\n    const totalW = cols * tileSize;\n    for(let row = 0; row < rows; row++){\n        const y = row * tileSize;\n        const imgData = fullCtx.getImageData(0, y, totalW, tileSize);\n        // Ê£ÄÊü•Ëøô‰∏ÄË°åÊòØÂê¶ÊúâÈùûÈÄèÊòéÂÉèÁ¥†\n        let hasContent = false;\n        for(let i = 3; i < imgData.data.length; i += 4){\n            if (imgData.data[i] > 0) {\n                hasContent = true;\n                break;\n            }\n        }\n        if (!hasContent) continue;\n        const rowCanvas = document.createElement(\"canvas\");\n        rowCanvas.width = totalW;\n        rowCanvas.height = tileSize;\n        const rowCtx = rowCanvas.getContext(\"2d\");\n        rowCtx.imageSmoothingEnabled = false;\n        rowCtx.putImageData(imgData, 0, 0);\n        result[row] = rowCanvas;\n    }\n    const count = result.filter(Boolean).length;\n    console.log(\"‚úÇÔ∏è ÂâçÊôØÂàáÁâá: \".concat(count, \"/\").concat(rows, \" Ë°åÊúâÂÜÖÂÆπ\"));\n    return result;\n}\n// ==================== ‰∏ªÂä†ËΩΩÂáΩÊï∞ ====================\nasync function loadAllResources(cols, rows, tileSize) {\n    const [bgImage, fgImage, frameImage, playerSprite] = await Promise.all([\n        loadImage(\"/sprites/background.png\"),\n        loadImage(\"/sprites/foreground.png\"),\n        loadImage(\"/sprites/frame.png\"),\n        loadImage(\"/sprites/player.png\")\n    ]);\n    console.log(\"\\uD83D\\uDDBCÔ∏è ËµÑÊ∫êÂä†ËΩΩ:\", bgImage ? \"‚úÖ background.png\" : \"‚ùå background.png\", fgImage ? \"‚úÖ foreground.png\" : \"‚ùå foreground.png\", frameImage ? \"‚úÖ frame.png\" : \"‚ùå frame.png\", playerSprite ? \"‚úÖ player.png\" : \"‚ùå player.png\");\n    const background = preRenderLayer(bgImage, cols, rows, tileSize, \"#050303\");\n    const foreground = preRenderLayer(fgImage, cols, rows, tileSize);\n    const frameOverlay = preRenderLayer(frameImage, cols, rows, tileSize);\n    const foregroundRows = sliceForegroundRows(foreground, cols, rows, tileSize);\n    return {\n        background,\n        foreground,\n        foregroundRows,\n        frameOverlay,\n        playerSprite,\n        loaded: true\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUMsYUFBYSxHQUFHLE1BQU1uRCxRQUFRb0QsR0FBRyxDQUFDO1FBQ3JFdEQsVUFBVTtRQUNWQSxVQUFVO1FBQ1ZBLFVBQVU7UUFDVkEsVUFBVTtLQUNYO0lBRURRLFFBQVF3QyxHQUFHLENBQ1QsdUJBQ0FFLFVBQVcscUJBQW9CLG9CQUMvQkMsVUFBVyxxQkFBb0Isb0JBQy9CQyxhQUFjLGdCQUFlLGVBQzdCQyxlQUFnQixpQkFBZ0I7SUFHbEMsTUFBTUUsYUFBYTdDLGVBQWV3QyxTQUFTdEMsTUFBTUMsTUFBTUMsVUFBVTtJQUNqRSxNQUFNMEMsYUFBYTlDLGVBQWV5QyxTQUFTdkMsTUFBTUMsTUFBTUM7SUFDdkQsTUFBTTJDLGVBQWUvQyxlQUFlMEMsWUFBWXhDLE1BQU1DLE1BQU1DO0lBQzVELE1BQU00QyxpQkFBaUIvQixvQkFBb0I2QixZQUFZNUMsTUFBTUMsTUFBTUM7SUFFbkUsT0FBTztRQUFFeUM7UUFBWUM7UUFBWUU7UUFBZ0JEO1FBQWNKO1FBQWNNLFFBQVE7SUFBSztBQUM1RiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvZ2FtZS9zcHJpdGVzLnRzP2U5ZmYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIPCflrzvuI8g57K+54G157O757ufIOKAlCDkvb/nlKggVE1YIOWQiOaIkOeahCBiYWNrZ3JvdW5kLnBuZyArIGZvcmVncm91bmQucG5nXHJcbiAqXHJcbiAqIGJhY2tncm91bmQucG5nICg1NzbDlzM2OCkg4oCUIOWujOaVtOWcuuaZryAo5omA5pyJ5bGCKVxyXG4gKiBmb3JlZ3JvdW5kLnBuZyAoNTc2w5czNjgpIOKAlCDku4Xlrrblhbcv6Zqc56KN54mp5bGCICjnlKjkuo7mt7Hluqbpga7mjKEpXHJcbiAqXHJcbiAqIOa4suafk+mhuuW6jzogYmFja2dyb3VuZCDihpIg6YCQ6KGMIFktc29ydCAo5YmN5pmv6KGMIHZzIOeOqeWutikg4oaSIFVJXHJcbiAqIOWJjeaZr+iiq+WIh+aIkOavj+ihjOS4gOadoSwg5LiO546p5a625oyJIFkg5Z2Q5qCH5o6S5bqPLCDlrp7njrDmraPnoa7nmoTpgI/op4bpga7mjKHjgIJcclxuICovXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PSDnsbvlnosgPT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGludGVyZmFjZSBMb2FkZWRSZXNvdXJjZXMge1xyXG4gIGJhY2tncm91bmQ6IEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbDtcclxuICBmb3JlZ3JvdW5kOiBIVE1MQ2FudmFzRWxlbWVudCB8IG51bGw7XHJcbiAgLyoqIOWJjeaZr+aMiSB0aWxlIOihjOWIh+eJhywgaW5kZXggPSB0aWxlIHJvdywg5LuF5YyF5ZCr5pyJ5YaF5a6555qE6KGMICovXHJcbiAgZm9yZWdyb3VuZFJvd3M6IChIVE1MQ2FudmFzRWxlbWVudCB8IG51bGwpW107XHJcbiAgLyoqIOaIv+mXtOahhuaetuimhuebluWxgiAo5aeL57uI6YGu5oyh546p5a62KSAqL1xyXG4gIGZyYW1lT3ZlcmxheTogSFRNTENhbnZhc0VsZW1lbnQgfCBudWxsO1xyXG4gIC8qKiDnjqnlrrbnsr7ngbXlm74gKDMgY29scyDDlyA0IHJvd3MpICovXHJcbiAgcGxheWVyU3ByaXRlOiBIVE1MSW1hZ2VFbGVtZW50IHwgbnVsbDtcclxuICBsb2FkZWQ6IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBTUkNfVElMRSA9IDE2O1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT0g5Zu+54mH5Yqg6L295ZmoID09PT09PT09PT09PT09PT09PT09XHJcbmZ1bmN0aW9uIGxvYWRJbWFnZShzcmM6IHN0cmluZyk6IFByb21pc2U8SFRNTEltYWdlRWxlbWVudCB8IG51bGw+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgaW1nLm9ubG9hZCA9ICgpID0+IHJlc29sdmUoaW1nKTtcclxuICAgIGltZy5vbmVycm9yID0gKCkgPT4ge1xyXG4gICAgICBjb25zb2xlLndhcm4oYOKaoO+4jyDml6Dms5XliqDovb06ICR7c3JjfWApO1xyXG4gICAgICByZXNvbHZlKG51bGwpO1xyXG4gICAgfTtcclxuICAgIGltZy5zcmMgPSBzcmM7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09IOmihOa4suafkyA9PT09PT09PT09PT09PT09PT09PVxyXG5mdW5jdGlvbiBwcmVSZW5kZXJMYXllcihcclxuICBpbWFnZTogSFRNTEltYWdlRWxlbWVudCB8IG51bGwsXHJcbiAgY29sczogbnVtYmVyLFxyXG4gIHJvd3M6IG51bWJlcixcclxuICB0aWxlU2l6ZTogbnVtYmVyLFxyXG4gIGZpbGxDb2xvcj86IHN0cmluZ1xyXG4pOiBIVE1MQ2FudmFzRWxlbWVudCB7XHJcbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgY2FudmFzLndpZHRoID0gY29scyAqIHRpbGVTaXplO1xyXG4gIGNhbnZhcy5oZWlnaHQgPSByb3dzICogdGlsZVNpemU7XHJcbiAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJykhO1xyXG4gIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcclxuXHJcbiAgaWYgKGZpbGxDb2xvcikge1xyXG4gICAgY3R4LmZpbGxTdHlsZSA9IGZpbGxDb2xvcjtcclxuICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGltYWdlKSB7XHJcbiAgICBjdHguZHJhd0ltYWdlKFxyXG4gICAgICBpbWFnZSxcclxuICAgICAgMCwgMCwgaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodCxcclxuICAgICAgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNhbnZhcztcclxufVxyXG5cclxuLyoqXHJcbiAqIOWwhuWJjeaZryBjYW52YXMg5oyJIHRpbGUg6KGM5YiH5oiQ54us56uLIGNhbnZhcyDmnaHjgIJcclxuICog5Y+q5pyJ5YyF5ZCr6Z2e6YCP5piO5YOP57Sg55qE6KGM5omN5Yib5bu6IGNhbnZhcywg5YW25L2Z5Li6IG51bGzjgIJcclxuICovXHJcbmZ1bmN0aW9uIHNsaWNlRm9yZWdyb3VuZFJvd3MoXHJcbiAgZmdDYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LFxyXG4gIGNvbHM6IG51bWJlcixcclxuICByb3dzOiBudW1iZXIsXHJcbiAgdGlsZVNpemU6IG51bWJlclxyXG4pOiAoSFRNTENhbnZhc0VsZW1lbnQgfCBudWxsKVtdIHtcclxuICBjb25zdCByZXN1bHQ6IChIVE1MQ2FudmFzRWxlbWVudCB8IG51bGwpW10gPSBuZXcgQXJyYXkocm93cykuZmlsbChudWxsKTtcclxuICBjb25zdCBmdWxsQ3R4ID0gZmdDYW52YXMuZ2V0Q29udGV4dCgnMmQnKSE7XHJcbiAgY29uc3QgdG90YWxXID0gY29scyAqIHRpbGVTaXplO1xyXG5cclxuICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCByb3dzOyByb3crKykge1xyXG4gICAgY29uc3QgeSA9IHJvdyAqIHRpbGVTaXplO1xyXG4gICAgY29uc3QgaW1nRGF0YSA9IGZ1bGxDdHguZ2V0SW1hZ2VEYXRhKDAsIHksIHRvdGFsVywgdGlsZVNpemUpO1xyXG4gICAgLy8g5qOA5p+l6L+Z5LiA6KGM5piv5ZCm5pyJ6Z2e6YCP5piO5YOP57SgXHJcbiAgICBsZXQgaGFzQ29udGVudCA9IGZhbHNlO1xyXG4gICAgZm9yIChsZXQgaSA9IDM7IGkgPCBpbWdEYXRhLmRhdGEubGVuZ3RoOyBpICs9IDQpIHtcclxuICAgICAgaWYgKGltZ0RhdGEuZGF0YVtpXSA+IDApIHsgaGFzQ29udGVudCA9IHRydWU7IGJyZWFrOyB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWhhc0NvbnRlbnQpIGNvbnRpbnVlO1xyXG5cclxuICAgIGNvbnN0IHJvd0NhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgcm93Q2FudmFzLndpZHRoID0gdG90YWxXO1xyXG4gICAgcm93Q2FudmFzLmhlaWdodCA9IHRpbGVTaXplO1xyXG4gICAgY29uc3Qgcm93Q3R4ID0gcm93Q2FudmFzLmdldENvbnRleHQoJzJkJykhO1xyXG4gICAgcm93Q3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgcm93Q3R4LnB1dEltYWdlRGF0YShpbWdEYXRhLCAwLCAwKTtcclxuICAgIHJlc3VsdFtyb3ddID0gcm93Q2FudmFzO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgY291bnQgPSByZXN1bHQuZmlsdGVyKEJvb2xlYW4pLmxlbmd0aDtcclxuICBjb25zb2xlLmxvZyhg4pyC77iPIOWJjeaZr+WIh+eJhzogJHtjb3VudH0vJHtyb3dzfSDooYzmnInlhoXlrrlgKTtcclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PSDkuLvliqDovb3lh73mlbAgPT09PT09PT09PT09PT09PT09PT1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRBbGxSZXNvdXJjZXMoXHJcbiAgY29sczogbnVtYmVyLFxyXG4gIHJvd3M6IG51bWJlcixcclxuICB0aWxlU2l6ZTogbnVtYmVyXHJcbik6IFByb21pc2U8TG9hZGVkUmVzb3VyY2VzPiB7XHJcbiAgY29uc3QgW2JnSW1hZ2UsIGZnSW1hZ2UsIGZyYW1lSW1hZ2UsIHBsYXllclNwcml0ZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICBsb2FkSW1hZ2UoJy9zcHJpdGVzL2JhY2tncm91bmQucG5nJyksXHJcbiAgICBsb2FkSW1hZ2UoJy9zcHJpdGVzL2ZvcmVncm91bmQucG5nJyksXHJcbiAgICBsb2FkSW1hZ2UoJy9zcHJpdGVzL2ZyYW1lLnBuZycpLFxyXG4gICAgbG9hZEltYWdlKCcvc3ByaXRlcy9wbGF5ZXIucG5nJyksXHJcbiAgXSk7XHJcblxyXG4gIGNvbnNvbGUubG9nKFxyXG4gICAgJ/CflrzvuI8g6LWE5rqQ5Yqg6L29OicsXHJcbiAgICBiZ0ltYWdlID8gYOKchSBiYWNrZ3JvdW5kLnBuZ2AgOiAn4p2MIGJhY2tncm91bmQucG5nJyxcclxuICAgIGZnSW1hZ2UgPyBg4pyFIGZvcmVncm91bmQucG5nYCA6ICfinYwgZm9yZWdyb3VuZC5wbmcnLFxyXG4gICAgZnJhbWVJbWFnZSA/IGDinIUgZnJhbWUucG5nYCA6ICfinYwgZnJhbWUucG5nJyxcclxuICAgIHBsYXllclNwcml0ZSA/IGDinIUgcGxheWVyLnBuZ2AgOiAn4p2MIHBsYXllci5wbmcnLFxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGJhY2tncm91bmQgPSBwcmVSZW5kZXJMYXllcihiZ0ltYWdlLCBjb2xzLCByb3dzLCB0aWxlU2l6ZSwgJyMwNTAzMDMnKTtcclxuICBjb25zdCBmb3JlZ3JvdW5kID0gcHJlUmVuZGVyTGF5ZXIoZmdJbWFnZSwgY29scywgcm93cywgdGlsZVNpemUpO1xyXG4gIGNvbnN0IGZyYW1lT3ZlcmxheSA9IHByZVJlbmRlckxheWVyKGZyYW1lSW1hZ2UsIGNvbHMsIHJvd3MsIHRpbGVTaXplKTtcclxuICBjb25zdCBmb3JlZ3JvdW5kUm93cyA9IHNsaWNlRm9yZWdyb3VuZFJvd3MoZm9yZWdyb3VuZCwgY29scywgcm93cywgdGlsZVNpemUpO1xyXG5cclxuICByZXR1cm4geyBiYWNrZ3JvdW5kLCBmb3JlZ3JvdW5kLCBmb3JlZ3JvdW5kUm93cywgZnJhbWVPdmVybGF5LCBwbGF5ZXJTcHJpdGUsIGxvYWRlZDogdHJ1ZSB9O1xyXG59XHJcbiJdLCJuYW1lcyI6WyJTUkNfVElMRSIsImxvYWRJbWFnZSIsInNyYyIsIlByb21pc2UiLCJyZXNvbHZlIiwiaW1nIiwiSW1hZ2UiLCJvbmxvYWQiLCJvbmVycm9yIiwiY29uc29sZSIsIndhcm4iLCJwcmVSZW5kZXJMYXllciIsImltYWdlIiwiY29scyIsInJvd3MiLCJ0aWxlU2l6ZSIsImZpbGxDb2xvciIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIndpZHRoIiwiaGVpZ2h0IiwiY3R4IiwiZ2V0Q29udGV4dCIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiZHJhd0ltYWdlIiwic2xpY2VGb3JlZ3JvdW5kUm93cyIsImZnQ2FudmFzIiwicmVzdWx0IiwiQXJyYXkiLCJmaWxsIiwiZnVsbEN0eCIsInRvdGFsVyIsInJvdyIsInkiLCJpbWdEYXRhIiwiZ2V0SW1hZ2VEYXRhIiwiaGFzQ29udGVudCIsImkiLCJkYXRhIiwibGVuZ3RoIiwicm93Q2FudmFzIiwicm93Q3R4IiwicHV0SW1hZ2VEYXRhIiwiY291bnQiLCJmaWx0ZXIiLCJCb29sZWFuIiwibG9nIiwibG9hZEFsbFJlc291cmNlcyIsImJnSW1hZ2UiLCJmZ0ltYWdlIiwiZnJhbWVJbWFnZSIsInBsYXllclNwcml0ZSIsImFsbCIsImJhY2tncm91bmQiLCJmb3JlZ3JvdW5kIiwiZnJhbWVPdmVybGF5IiwiZm9yZWdyb3VuZFJvd3MiLCJsb2FkZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/game/sprites.ts\n"));

/***/ })

}]);