"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_src_components_GameCanvas_tsx",{

/***/ "(app-pages-browser)/./src/game/npc.ts":
/*!*************************!*\
  !*** ./src/game/npc.ts ***!
  \*************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CatState: function() { return /* binding */ CatState; },\n/* harmony export */   createCat: function() { return /* binding */ createCat; },\n/* harmony export */   createStaticMan: function() { return /* binding */ createStaticMan; },\n/* harmony export */   getCatFootY: function() { return /* binding */ getCatFootY; },\n/* harmony export */   getManFootY: function() { return /* binding */ getManFootY; },\n/* harmony export */   renderCat: function() { return /* binding */ renderCat; },\n/* harmony export */   renderManNPC: function() { return /* binding */ renderManNPC; },\n/* harmony export */   updateCat: function() { return /* binding */ updateCat; }\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"(app-pages-browser)/./src/game/constants.ts\");\n/* harmony import */ var _basePath__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../basePath */ \"(app-pages-browser)/./src/basePath.ts\");\n/**\r\n * üê± NPC Á≥ªÁªü ‚Äî ÈùôÊÄÅÁî∑Â≠© + Ëá™‰∏ªÊº´Ê∏∏Áå´Âí™\r\n *\r\n * Áî∑Â≠© (man): ÈùôÊ≠¢Á´ôÂú® TMX \"man\" ÂõæÂ±ÇÊ†áËÆ∞‰ΩçÁΩÆ\r\n * Áå´Âí™ (bwcat / ocat): Ëá™‰∏ª AI Êº´Ê∏∏ÔºåË°å‰∏∫Ê®°ÊãüÁúüÂÆûÁå´Âí™Ôºö\r\n *   - ÈöèÊú∫Ëµ∞Âá†Ê≠• ‚Üí ÂÅú‰∏ãÊù•ÂèëÂëÜ ‚Üí ÂÜçËµ∞\r\n *   - ÊúâÊó∂ÂÄôÈïøÊó∂Èó¥Ë∂¥ÁùÄ‰∏çÂä® (Áù°Ëßâ)\r\n *   - ‰ΩøÁî®‰∏éÁé©ÂÆ∂Áõ∏ÂêåÁöÑ WALKABLE_MAP Á¢∞ÊíûÊ£ÄÊµã\r\n */ \n\nvar CatState;\n(function(CatState) {\n    CatState[\"IDLE\"] = \"idle\";\n    CatState[\"WALKING\"] = \"walking\";\n    CatState[\"SLEEPING\"] = \"sleeping\";\n})(CatState || (CatState = {}));\n// ==================== Â∏∏Èáè ====================\n/** Áå´Á≤æÁÅµÂõæ: 4 Âàó √ó 4 Ë°å, ÊØèÂ∏ß 125√ó125 */ const CAT_FRAME_W = 125;\nconst CAT_FRAME_H = 125;\nconst CAT_COLS = 4;\n/** Áå´Âú®Ê∏∏Êàè‰∏≠ÁöÑÊòæÁ§∫Â∞∫ÂØ∏ */ const CAT_DRAW_W = 26;\nconst CAT_DRAW_H = 26;\n/** Áå´Á¢∞Êíû‰ΩìÂ§ßÂ∞è */ const CAT_BODY = 20;\n/** Áå´Ë°åËµ∞ÈÄüÂ∫¶ */ const CAT_SPEED = 0.5;\n/**\r\n * Áå´Á≤æÁÅµÂõæË°åÊò†Â∞Ñ (ËßÇÂØüÁ≤æÁÅµÂõæ):\r\n *  row 0 = Ê≠£Èù¢ (down)\r\n *  row 1 = Âè≥‰æß (right) ‚Äî ‰æßÈù¢ÊúùÂè≥\r\n *  row 2 = ËÉåÈù¢ (up)\r\n *  row 3 = Â∑¶‰æß (left) ‚Äî ‰æßÈù¢ÊúùÂ∑¶ (ÂÆûÈôÖÊòØ‰ªéÂ∑¶Áúã)\r\n *\r\n * Ê≥®ÊÑè: Á≤æÁÅµÂõæÁöÑ row 3 ÁúãËµ∑Êù•Âíå row 1 ÊòØÂØπÁß∞ÁöÑ\r\n */ const CAT_DIR_TO_ROW = {\n    [_constants__WEBPACK_IMPORTED_MODULE_0__.Direction.DOWN]: 0,\n    [_constants__WEBPACK_IMPORTED_MODULE_0__.Direction.RIGHT]: 1,\n    [_constants__WEBPACK_IMPORTED_MODULE_0__.Direction.UP]: 2,\n    [_constants__WEBPACK_IMPORTED_MODULE_0__.Direction.LEFT]: 3\n};\n/** Ë°åËµ∞Âä®ÁîªÂ∏ßÂ∫èÂàó */ const CAT_WALK_ANIM = [\n    0,\n    1,\n    2,\n    3\n];\n/** Áî∑Â≠©Á≤æÁÅµÂú®Ê∏∏Êàè‰∏≠ÁöÑÊòæÁ§∫Â∞∫ÂØ∏ ‚Äî ‰∏é keqi ÂêåÈ´ò (DRAW_H ‚âà 52) */ const MAN_DRAW_H = Math.round(38 * (583 / 429)); // ‰∏é player ÁöÑ DRAW_H ‰∏ÄËá¥ ‚âà 52\nconst MAN_DRAW_W = Math.round(MAN_DRAW_H * (220 / 433)); // Á≠âÊØîÁº©ÊîæÂÆΩÂ∫¶ ‚âà 26\n// ==================== Áî∑Â≠© NPC ‰ΩçÁΩÆ (TMX man ÂõæÂ±Ç: row 16, col 11) ====================\n/** ËÑöÂ∫ïÂØπÈΩêÂà∞ tile (11, 16) ÁöÑ‰∏≠ÂøÉÂ∫ïÈÉ® */ const MAN_TILE_COL = 11;\nconst MAN_TILE_ROW = 16;\n// ==================== ÂõæÁâáÂä†ËΩΩ ====================\nfunction loadImage(src) {\n    return new Promise((resolve)=>{\n        const img = new Image();\n        img.onload = ()=>resolve(img);\n        img.onerror = ()=>{\n            console.warn(\"‚ö†Ô∏è NPC Êó†Ê≥ïÂä†ËΩΩ: \".concat(src));\n            resolve(null);\n        };\n        img.src = src;\n    });\n}\n// ==================== ÂàõÂª∫ NPC ====================\nasync function createStaticMan() {\n    const sprite = await loadImage((0,_basePath__WEBPACK_IMPORTED_MODULE_1__.assetPath)(\"/char/man/man.png\"));\n    // ËÑöÂ∫ïÂØπÈΩê tile ‰∏≠ÂøÉ\n    const footX = MAN_TILE_COL * _constants__WEBPACK_IMPORTED_MODULE_0__.TILE_SIZE + _constants__WEBPACK_IMPORTED_MODULE_0__.TILE_SIZE / 2;\n    const footY = (MAN_TILE_ROW + 1) * _constants__WEBPACK_IMPORTED_MODULE_0__.TILE_SIZE; // tile Â∫ïËæπ\n    return {\n        id: \"man\",\n        x: footX - _constants__WEBPACK_IMPORTED_MODULE_0__.PLAYER_SIZE / 2,\n        y: footY - _constants__WEBPACK_IMPORTED_MODULE_0__.PLAYER_SIZE,\n        sprite\n    };\n}\nasync function createCat(id, spritePath, startCol, startRow) {\n    const sprite = await loadImage((0,_basePath__WEBPACK_IMPORTED_MODULE_1__.assetPath)(spritePath));\n    return {\n        id,\n        x: startCol * _constants__WEBPACK_IMPORTED_MODULE_0__.TILE_SIZE,\n        y: startRow * _constants__WEBPACK_IMPORTED_MODULE_0__.TILE_SIZE,\n        direction: _constants__WEBPACK_IMPORTED_MODULE_0__.Direction.DOWN,\n        state: \"idle\",\n        animFrame: 0,\n        animTimer: 0,\n        stateTimer: randomIdleTime(),\n        walkDx: 0,\n        walkDy: 0,\n        sprite\n    };\n}\n// ==================== Áå´ AI ====================\nfunction randomIdleTime() {\n    // 2~6 Áßí @ 60fps\n    return 120 + Math.floor(Math.random() * 240);\n}\nfunction randomSleepTime() {\n    // 5~15 Áßí\n    return 300 + Math.floor(Math.random() * 600);\n}\nfunction randomWalkTime() {\n    // 1~4 Áßí\n    return 60 + Math.floor(Math.random() * 180);\n}\n/** Á¢∞ÊíûÊ£ÄÊµã: Áå´ÁöÑËÑöÈÉ®Âå∫ÂüüÊòØÂê¶Âú®ÂèØË°åËµ∞Âå∫Âüü */ function isCatWalkable(px, py) {\n    const padding = 2;\n    const left = px + padding;\n    const right = px + CAT_BODY - padding;\n    const top = py + CAT_BODY / 2;\n    const bottom = py + CAT_BODY + 2;\n    const points = [\n        {\n            x: left,\n            y: top\n        },\n        {\n            x: right,\n            y: top\n        },\n        {\n            x: left,\n            y: bottom\n        },\n        {\n            x: right,\n            y: bottom\n        }\n    ];\n    for (const pt of points){\n        const col = Math.floor(pt.x / _constants__WEBPACK_IMPORTED_MODULE_0__.TILE_SIZE);\n        const row = Math.floor(pt.y / _constants__WEBPACK_IMPORTED_MODULE_0__.TILE_SIZE);\n        if (col < 0 || col >= _constants__WEBPACK_IMPORTED_MODULE_0__.MAP_COLS || row < 0 || row >= _constants__WEBPACK_IMPORTED_MODULE_0__.MAP_ROWS) return false;\n        if (_constants__WEBPACK_IMPORTED_MODULE_0__.WALKABLE_MAP[row][col] !== 1) return false;\n    }\n    return true;\n}\n/** ÈöèÊú∫ÈÄâÊã©‰∏Ä‰∏™Ë°åËµ∞ÊñπÂêë */ function pickRandomDirection() {\n    const choices = [\n        {\n            dx: 0,\n            dy: -CAT_SPEED,\n            dir: _constants__WEBPACK_IMPORTED_MODULE_0__.Direction.UP\n        },\n        {\n            dx: 0,\n            dy: CAT_SPEED,\n            dir: _constants__WEBPACK_IMPORTED_MODULE_0__.Direction.DOWN\n        },\n        {\n            dx: -CAT_SPEED,\n            dy: 0,\n            dir: _constants__WEBPACK_IMPORTED_MODULE_0__.Direction.LEFT\n        },\n        {\n            dx: CAT_SPEED,\n            dy: 0,\n            dir: _constants__WEBPACK_IMPORTED_MODULE_0__.Direction.RIGHT\n        }\n    ];\n    return choices[Math.floor(Math.random() * choices.length)];\n}\n/** ÊØèÂ∏ßÊõ¥Êñ∞Áå´ÁöÑ AI */ function updateCat(cat) {\n    cat.stateTimer--;\n    switch(cat.state){\n        case \"idle\":\n            if (cat.stateTimer <= 0) {\n                // 60% Ê¶ÇÁéáÂºÄÂßãËµ∞, 20% Ê¶ÇÁéáÁù°Ëßâ, 20% ÁªßÁª≠ÂèëÂëÜ\n                const r = Math.random();\n                if (r < 0.6) {\n                    const { dx, dy, dir } = pickRandomDirection();\n                    cat.state = \"walking\";\n                    cat.walkDx = dx;\n                    cat.walkDy = dy;\n                    cat.direction = dir;\n                    cat.stateTimer = randomWalkTime();\n                    cat.animFrame = 0;\n                    cat.animTimer = 0;\n                } else if (r < 0.8) {\n                    cat.state = \"sleeping\";\n                    cat.stateTimer = randomSleepTime();\n                    cat.direction = _constants__WEBPACK_IMPORTED_MODULE_0__.Direction.DOWN; // Áù°ËßâÈù¢Êúù‰∏ã\n                } else {\n                    cat.stateTimer = randomIdleTime();\n                }\n            }\n            break;\n        case \"walking\":\n            // Â∞ùËØïÁßªÂä®\n            {\n                const newX = cat.x + cat.walkDx;\n                const newY = cat.y + cat.walkDy;\n                if (isCatWalkable(newX, newY)) {\n                    cat.x = newX;\n                    cat.y = newY;\n                } else {\n                    // ÊíûÂ¢ô‰∫ÜÔºåÂÅú‰∏ãÊù•\n                    cat.state = \"idle\";\n                    cat.stateTimer = randomIdleTime();\n                    break;\n                }\n                // Âä®Áîª\n                cat.animTimer++;\n                if (cat.animTimer % 10 === 0) {\n                    cat.animFrame = (cat.animFrame + 1) % CAT_WALK_ANIM.length;\n                }\n                if (cat.stateTimer <= 0) {\n                    cat.state = \"idle\";\n                    cat.stateTimer = randomIdleTime();\n                    cat.animFrame = 0;\n                }\n            }\n            break;\n        case \"sleeping\":\n            if (cat.stateTimer <= 0) {\n                cat.state = \"idle\";\n                cat.stateTimer = randomIdleTime();\n            }\n            break;\n    }\n}\n// ==================== Ê∏≤Êüì ====================\n/** Ê∏≤ÊüìÁî∑Â≠© (ÈùôÊÄÅ) */ function renderManNPC(ctx, man) {\n    if (!man.sprite) return;\n    ctx.save();\n    ctx.imageSmoothingEnabled = false;\n    // ‰ª•Á¢∞ÊíûÁõí‰∏∫Âü∫ÂáÜÂ±Ö‰∏≠ÁªòÂà∂\n    const drawX = man.x + _constants__WEBPACK_IMPORTED_MODULE_0__.PLAYER_SIZE / 2 - MAN_DRAW_W / 2;\n    const drawY = man.y + _constants__WEBPACK_IMPORTED_MODULE_0__.PLAYER_SIZE / 2 - MAN_DRAW_H / 2;\n    ctx.drawImage(man.sprite, 0, 0, man.sprite.width, man.sprite.height, drawX, drawY, MAN_DRAW_W, MAN_DRAW_H);\n    ctx.restore();\n}\n/** Ê∏≤ÊüìÁå´ */ function renderCat(ctx, cat) {\n    if (!cat.sprite) return;\n    ctx.save();\n    ctx.imageSmoothingEnabled = false;\n    const row = CAT_DIR_TO_ROW[cat.direction];\n    const col = cat.state === \"walking\" ? CAT_WALK_ANIM[cat.animFrame % CAT_WALK_ANIM.length] : 0; // ÈùûË°åËµ∞Êó∂Áî®Á¨¨‰∏ÄÂ∏ß (Á´ôÁ´ã)\n    const srcX = col * CAT_FRAME_W;\n    const srcY = row * CAT_FRAME_H;\n    // ÁªòÂà∂‰ΩçÁΩÆ\n    const drawX = cat.x + CAT_BODY / 2 - CAT_DRAW_W / 2;\n    const drawY = cat.y + CAT_BODY / 2 - CAT_DRAW_H / 2;\n    ctx.drawImage(cat.sprite, srcX, srcY, CAT_FRAME_W, CAT_FRAME_H, drawX, drawY, CAT_DRAW_W, CAT_DRAW_H);\n    ctx.restore();\n}\n/** Ëé∑ÂèñÁî∑Â≠©ÁöÑ footY */ function getManFootY(man) {\n    return man.y + _constants__WEBPACK_IMPORTED_MODULE_0__.PLAYER_SIZE;\n}\n/** Ëé∑ÂèñÁå´ÁöÑ footY */ function getCatFootY(cat) {\n    return cat.y + CAT_BODY;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cUQsS0FBSyxFQUFFTixJQUFJL0MsTUFBTSxDQUFDc0QsTUFBTSxFQUFFSixPQUFPQyxPQUFPakUsWUFBWUg7SUFDL0YrRCxJQUFJUyxPQUFPO0FBQ2Y7QUFFQSxRQUFRLEdBQ0QsU0FBU0MsVUFBVVYsR0FBNkIsRUFBRUwsR0FBVztJQUNoRSxJQUFJLENBQUNBLElBQUl6QyxNQUFNLEVBQUU7SUFDakI4QyxJQUFJRSxJQUFJO0lBQ1JGLElBQUlHLHFCQUFxQixHQUFHO0lBRTVCLE1BQU1oQixNQUFNeEQsY0FBYyxDQUFDZ0UsSUFBSS9CLFNBQVMsQ0FBQztJQUN6QyxNQUFNc0IsTUFBTVMsSUFBSTlCLEtBQUssaUJBQ2Y3QixhQUFhLENBQUMyRCxJQUFJN0IsU0FBUyxHQUFHOUIsY0FBY3lELE1BQU0sQ0FBQyxHQUNuRCxHQUFHLGdCQUFnQjtJQUV6QixNQUFNa0IsT0FBT3pCLE1BQU05RDtJQUNuQixNQUFNd0YsT0FBT3pCLE1BQU05RDtJQUVuQixPQUFPO0lBQ1AsTUFBTStFLFFBQVFULElBQUlyQyxDQUFDLEdBQUc3QixXQUFXLElBQUlGLGFBQWE7SUFDbEQsTUFBTThFLFFBQVFWLElBQUlwQyxDQUFDLEdBQUc5QixXQUFXLElBQUlELGFBQWE7SUFFbER3RSxJQUFJTSxTQUFTLENBQ1RYLElBQUl6QyxNQUFNLEVBQ1Z5RCxNQUFNQyxNQUFNeEYsYUFBYUMsYUFDekIrRSxPQUFPQyxPQUFPOUUsWUFBWUM7SUFFOUJ3RSxJQUFJUyxPQUFPO0FBQ2Y7QUFVQSxnQkFBZ0IsR0FDVCxTQUFTSSxZQUFZWixHQUFjO0lBQ3RDLE9BQU9BLElBQUkxQyxDQUFDLEdBQUcxQyxtREFBV0E7QUFDOUI7QUFFQSxlQUFlLEdBQ1IsU0FBU2lHLFlBQVluQixHQUFXO0lBQ25DLE9BQU9BLElBQUlwQyxDQUFDLEdBQUc5QjtBQUNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvZ2FtZS9ucGMudHM/MDNmNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog8J+QsSBOUEMg57O757ufIOKAlCDpnZnmgIHnlLflrakgKyDoh6rkuLvmvKvmuLjnjKvlkqpcclxuICpcclxuICog55S35a2pIChtYW4pOiDpnZnmraLnq5nlnKggVE1YIFwibWFuXCIg5Zu+5bGC5qCH6K6w5L2N572uXHJcbiAqIOeMq+WSqiAoYndjYXQgLyBvY2F0KTog6Ieq5Li7IEFJIOa8q+a4uO+8jOihjOS4uuaooeaLn+ecn+WunueMq+WSqu+8mlxyXG4gKiAgIC0g6ZqP5py66LWw5Yeg5q2lIOKGkiDlgZzkuIvmnaXlj5HlkYYg4oaSIOWGjei1sFxyXG4gKiAgIC0g5pyJ5pe25YCZ6ZW/5pe26Ze06La0552A5LiN5YqoICjnnaHop4kpXHJcbiAqICAgLSDkvb/nlKjkuI7njqnlrrbnm7jlkIznmoQgV0FMS0FCTEVfTUFQIOeisOaSnuajgOa1i1xyXG4gKi9cclxuXHJcbmltcG9ydCB7IFRJTEVfU0laRSwgUExBWUVSX1NJWkUsIFdBTEtBQkxFX01BUCwgTUFQX0NPTFMsIE1BUF9ST1dTLCBEaXJlY3Rpb24gfSBmcm9tICcuL2NvbnN0YW50cyc7XHJcbmltcG9ydCB7IGFzc2V0UGF0aCB9IGZyb20gJy4uL2Jhc2VQYXRoJztcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09IOexu+WeiyA9PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqIOeMq+eahOihjOS4uueKtuaAgSAqL1xyXG5leHBvcnQgZW51bSBDYXRTdGF0ZSB7XHJcbiAgICBJRExFID0gJ2lkbGUnLCAgICAgICAvLyDnq5nnnYDlj5HlkYZcclxuICAgIFdBTEtJTkcgPSAnd2Fsa2luZycsIC8vIOi1sOi3r+S4rVxyXG4gICAgU0xFRVBJTkcgPSAnc2xlZXBpbmcnLCAvLyDplb/ml7bpl7TotrTnnYBcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDYXROUEMge1xyXG4gICAgaWQ6IHN0cmluZztcclxuICAgIHg6IG51bWJlcjsgICAgICAgICAgLy8g5YOP57Sg5Z2Q5qCHXHJcbiAgICB5OiBudW1iZXI7XHJcbiAgICBkaXJlY3Rpb246IERpcmVjdGlvbjtcclxuICAgIHN0YXRlOiBDYXRTdGF0ZTtcclxuICAgIGFuaW1GcmFtZTogbnVtYmVyO1xyXG4gICAgYW5pbVRpbWVyOiBudW1iZXI7XHJcbiAgICAvKiog5b2T5YmN54q25oCB5Ymp5L2Z5oyB57utIHRpY2sg5pWwICovXHJcbiAgICBzdGF0ZVRpbWVyOiBudW1iZXI7XHJcbiAgICAvKiog6KGM6LWw5pa55ZCRICjmr4/mrKHpmo/mnLrpgIkpICovXHJcbiAgICB3YWxrRHg6IG51bWJlcjtcclxuICAgIHdhbGtEeTogbnVtYmVyO1xyXG4gICAgc3ByaXRlOiBIVE1MSW1hZ2VFbGVtZW50IHwgbnVsbDtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTdGF0aWNOUEMge1xyXG4gICAgaWQ6IHN0cmluZztcclxuICAgIHg6IG51bWJlcjsgICAvLyDlg4/ntKDlnZDmoIcgKOiEmuW6leS9jee9rilcclxuICAgIHk6IG51bWJlcjtcclxuICAgIHNwcml0ZTogSFRNTEltYWdlRWxlbWVudCB8IG51bGw7XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09IOW4uOmHjyA9PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqIOeMq+eyvueBteWbvjogNCDliJcgw5cgNCDooYwsIOavj+W4pyAxMjXDlzEyNSAqL1xyXG5jb25zdCBDQVRfRlJBTUVfVyA9IDEyNTtcclxuY29uc3QgQ0FUX0ZSQU1FX0ggPSAxMjU7XHJcbmNvbnN0IENBVF9DT0xTID0gNDtcclxuLyoqIOeMq+WcqOa4uOaIj+S4reeahOaYvuekuuWwuuWvuCAqL1xyXG5jb25zdCBDQVRfRFJBV19XID0gMjY7XHJcbmNvbnN0IENBVF9EUkFXX0ggPSAyNjtcclxuLyoqIOeMq+eisOaSnuS9k+Wkp+WwjyAqL1xyXG5jb25zdCBDQVRfQk9EWSA9IDIwO1xyXG4vKiog54yr6KGM6LWw6YCf5bqmICovXHJcbmNvbnN0IENBVF9TUEVFRCA9IDAuNTtcclxuXHJcbi8qKlxyXG4gKiDnjKvnsr7ngbXlm77ooYzmmKDlsIQgKOinguWvn+eyvueBteWbvik6XHJcbiAqICByb3cgMCA9IOato+mdoiAoZG93bilcclxuICogIHJvdyAxID0g5Y+z5L6nIChyaWdodCkg4oCUIOS+p+mdouacneWPs1xyXG4gKiAgcm93IDIgPSDog4zpnaIgKHVwKVxyXG4gKiAgcm93IDMgPSDlt6bkvqcgKGxlZnQpIOKAlCDkvqfpnaLmnJ3lt6YgKOWunumZheaYr+S7juW3pueciylcclxuICpcclxuICog5rOo5oSPOiDnsr7ngbXlm77nmoQgcm93IDMg55yL6LW35p2l5ZKMIHJvdyAxIOaYr+WvueensOeahFxyXG4gKi9cclxuY29uc3QgQ0FUX0RJUl9UT19ST1c6IFJlY29yZDxEaXJlY3Rpb24sIG51bWJlcj4gPSB7XHJcbiAgICBbRGlyZWN0aW9uLkRPV05dOiAwLFxyXG4gICAgW0RpcmVjdGlvbi5SSUdIVF06IDEsXHJcbiAgICBbRGlyZWN0aW9uLlVQXTogMixcclxuICAgIFtEaXJlY3Rpb24uTEVGVF06IDMsXHJcbn07XHJcblxyXG4vKiog6KGM6LWw5Yqo55S75bin5bqP5YiXICovXHJcbmNvbnN0IENBVF9XQUxLX0FOSU0gPSBbMCwgMSwgMiwgM107XHJcblxyXG4vKiog55S35a2p57K+54G15Zyo5ri45oiP5Lit55qE5pi+56S65bC65a+4IOKAlCDkuI4ga2VxaSDlkIzpq5ggKERSQVdfSCDiiYggNTIpICovXHJcbmNvbnN0IE1BTl9EUkFXX0ggPSBNYXRoLnJvdW5kKDM4ICogKDU4MyAvIDQyOSkpOyAvLyDkuI4gcGxheWVyIOeahCBEUkFXX0gg5LiA6Ie0IOKJiCA1MlxyXG5jb25zdCBNQU5fRFJBV19XID0gTWF0aC5yb3VuZChNQU5fRFJBV19IICogKDIyMCAvIDQzMykpOyAvLyDnrYnmr5TnvKnmlL7lrr3luqYg4omIIDI2XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PSDnlLflrakgTlBDIOS9jee9riAoVE1YIG1hbiDlm77lsYI6IHJvdyAxNiwgY29sIDExKSA9PT09PT09PT09PT09PT09PT09PVxyXG4vKiog6ISa5bqV5a+56b2Q5YiwIHRpbGUgKDExLCAxNikg55qE5Lit5b+D5bqV6YOoICovXHJcbmNvbnN0IE1BTl9USUxFX0NPTCA9IDExO1xyXG5jb25zdCBNQU5fVElMRV9ST1cgPSAxNjtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09IOWbvueJh+WKoOi9vSA9PT09PT09PT09PT09PT09PT09PVxyXG5mdW5jdGlvbiBsb2FkSW1hZ2Uoc3JjOiBzdHJpbmcpOiBQcm9taXNlPEhUTUxJbWFnZUVsZW1lbnQgfCBudWxsPiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBpbWcub25sb2FkID0gKCkgPT4gcmVzb2x2ZShpbWcpO1xyXG4gICAgICAgIGltZy5vbmVycm9yID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYOKaoO+4jyBOUEMg5peg5rOV5Yqg6L29OiAke3NyY31gKTtcclxuICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGltZy5zcmMgPSBzcmM7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT0g5Yib5bu6IE5QQyA9PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVN0YXRpY01hbigpOiBQcm9taXNlPFN0YXRpY05QQz4ge1xyXG4gICAgY29uc3Qgc3ByaXRlID0gYXdhaXQgbG9hZEltYWdlKGFzc2V0UGF0aCgnL2NoYXIvbWFuL21hbi5wbmcnKSk7XHJcbiAgICAvLyDohJrlupXlr7npvZAgdGlsZSDkuK3lv4NcclxuICAgIGNvbnN0IGZvb3RYID0gTUFOX1RJTEVfQ09MICogVElMRV9TSVpFICsgVElMRV9TSVpFIC8gMjtcclxuICAgIGNvbnN0IGZvb3RZID0gKE1BTl9USUxFX1JPVyArIDEpICogVElMRV9TSVpFOyAvLyB0aWxlIOW6lei+uVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBpZDogJ21hbicsXHJcbiAgICAgICAgeDogZm9vdFggLSBQTEFZRVJfU0laRSAvIDIsICAgICAvLyDnorDmkp7nm5Llt6bkuIrop5JcclxuICAgICAgICB5OiBmb290WSAtIFBMQVlFUl9TSVpFLCAgICAgICAgIC8vIOeisOaSnuebkumhtlxyXG4gICAgICAgIHNwcml0ZSxcclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVDYXQoaWQ6IHN0cmluZywgc3ByaXRlUGF0aDogc3RyaW5nLCBzdGFydENvbDogbnVtYmVyLCBzdGFydFJvdzogbnVtYmVyKTogUHJvbWlzZTxDYXROUEM+IHtcclxuICAgIGNvbnN0IHNwcml0ZSA9IGF3YWl0IGxvYWRJbWFnZShhc3NldFBhdGgoc3ByaXRlUGF0aCkpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBpZCxcclxuICAgICAgICB4OiBzdGFydENvbCAqIFRJTEVfU0laRSxcclxuICAgICAgICB5OiBzdGFydFJvdyAqIFRJTEVfU0laRSxcclxuICAgICAgICBkaXJlY3Rpb246IERpcmVjdGlvbi5ET1dOLFxyXG4gICAgICAgIHN0YXRlOiBDYXRTdGF0ZS5JRExFLFxyXG4gICAgICAgIGFuaW1GcmFtZTogMCxcclxuICAgICAgICBhbmltVGltZXI6IDAsXHJcbiAgICAgICAgc3RhdGVUaW1lcjogcmFuZG9tSWRsZVRpbWUoKSxcclxuICAgICAgICB3YWxrRHg6IDAsXHJcbiAgICAgICAgd2Fsa0R5OiAwLFxyXG4gICAgICAgIHNwcml0ZSxcclxuICAgIH07XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09IOeMqyBBSSA9PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZnVuY3Rpb24gcmFuZG9tSWRsZVRpbWUoKTogbnVtYmVyIHtcclxuICAgIC8vIDJ+NiDnp5IgQCA2MGZwc1xyXG4gICAgcmV0dXJuIDEyMCArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI0MCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJhbmRvbVNsZWVwVGltZSgpOiBudW1iZXIge1xyXG4gICAgLy8gNX4xNSDnp5JcclxuICAgIHJldHVybiAzMDAgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA2MDApO1xyXG59XHJcblxyXG5mdW5jdGlvbiByYW5kb21XYWxrVGltZSgpOiBudW1iZXIge1xyXG4gICAgLy8gMX40IOenklxyXG4gICAgcmV0dXJuIDYwICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTgwKTtcclxufVxyXG5cclxuLyoqIOeisOaSnuajgOa1izog54yr55qE6ISa6YOo5Yy65Z+f5piv5ZCm5Zyo5Y+v6KGM6LWw5Yy65Z+fICovXHJcbmZ1bmN0aW9uIGlzQ2F0V2Fsa2FibGUocHg6IG51bWJlciwgcHk6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgY29uc3QgcGFkZGluZyA9IDI7XHJcbiAgICBjb25zdCBsZWZ0ID0gcHggKyBwYWRkaW5nO1xyXG4gICAgY29uc3QgcmlnaHQgPSBweCArIENBVF9CT0RZIC0gcGFkZGluZztcclxuICAgIGNvbnN0IHRvcCA9IHB5ICsgQ0FUX0JPRFkgLyAyO1xyXG4gICAgY29uc3QgYm90dG9tID0gcHkgKyBDQVRfQk9EWSArIDI7XHJcblxyXG4gICAgY29uc3QgcG9pbnRzID0gW1xyXG4gICAgICAgIHsgeDogbGVmdCwgeTogdG9wIH0sXHJcbiAgICAgICAgeyB4OiByaWdodCwgeTogdG9wIH0sXHJcbiAgICAgICAgeyB4OiBsZWZ0LCB5OiBib3R0b20gfSxcclxuICAgICAgICB7IHg6IHJpZ2h0LCB5OiBib3R0b20gfSxcclxuICAgIF07XHJcblxyXG4gICAgZm9yIChjb25zdCBwdCBvZiBwb2ludHMpIHtcclxuICAgICAgICBjb25zdCBjb2wgPSBNYXRoLmZsb29yKHB0LnggLyBUSUxFX1NJWkUpO1xyXG4gICAgICAgIGNvbnN0IHJvdyA9IE1hdGguZmxvb3IocHQueSAvIFRJTEVfU0laRSk7XHJcbiAgICAgICAgaWYgKGNvbCA8IDAgfHwgY29sID49IE1BUF9DT0xTIHx8IHJvdyA8IDAgfHwgcm93ID49IE1BUF9ST1dTKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgaWYgKFdBTEtBQkxFX01BUFtyb3ddW2NvbF0gIT09IDEpIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vKiog6ZqP5py66YCJ5oup5LiA5Liq6KGM6LWw5pa55ZCRICovXHJcbmZ1bmN0aW9uIHBpY2tSYW5kb21EaXJlY3Rpb24oKTogeyBkeDogbnVtYmVyOyBkeTogbnVtYmVyOyBkaXI6IERpcmVjdGlvbiB9IHtcclxuICAgIGNvbnN0IGNob2ljZXMgPSBbXHJcbiAgICAgICAgeyBkeDogMCwgZHk6IC1DQVRfU1BFRUQsIGRpcjogRGlyZWN0aW9uLlVQIH0sXHJcbiAgICAgICAgeyBkeDogMCwgZHk6IENBVF9TUEVFRCwgZGlyOiBEaXJlY3Rpb24uRE9XTiB9LFxyXG4gICAgICAgIHsgZHg6IC1DQVRfU1BFRUQsIGR5OiAwLCBkaXI6IERpcmVjdGlvbi5MRUZUIH0sXHJcbiAgICAgICAgeyBkeDogQ0FUX1NQRUVELCBkeTogMCwgZGlyOiBEaXJlY3Rpb24uUklHSFQgfSxcclxuICAgIF07XHJcbiAgICByZXR1cm4gY2hvaWNlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaG9pY2VzLmxlbmd0aCldO1xyXG59XHJcblxyXG4vKiog5q+P5bin5pu05paw54yr55qEIEFJICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVDYXQoY2F0OiBDYXROUEMpOiB2b2lkIHtcclxuICAgIGNhdC5zdGF0ZVRpbWVyLS07XHJcblxyXG4gICAgc3dpdGNoIChjYXQuc3RhdGUpIHtcclxuICAgICAgICBjYXNlIENhdFN0YXRlLklETEU6XHJcbiAgICAgICAgICAgIGlmIChjYXQuc3RhdGVUaW1lciA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyA2MCUg5qaC546H5byA5aeL6LWwLCAyMCUg5qaC546H552h6KeJLCAyMCUg57un57ut5Y+R5ZGGXHJcbiAgICAgICAgICAgICAgICBjb25zdCByID0gTWF0aC5yYW5kb20oKTtcclxuICAgICAgICAgICAgICAgIGlmIChyIDwgMC42KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBkeCwgZHksIGRpciB9ID0gcGlja1JhbmRvbURpcmVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhdC5zdGF0ZSA9IENhdFN0YXRlLldBTEtJTkc7XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0LndhbGtEeCA9IGR4O1xyXG4gICAgICAgICAgICAgICAgICAgIGNhdC53YWxrRHkgPSBkeTtcclxuICAgICAgICAgICAgICAgICAgICBjYXQuZGlyZWN0aW9uID0gZGlyO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhdC5zdGF0ZVRpbWVyID0gcmFuZG9tV2Fsa1RpbWUoKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXQuYW5pbUZyYW1lID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBjYXQuYW5pbVRpbWVyID0gMDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAociA8IDAuOCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhdC5zdGF0ZSA9IENhdFN0YXRlLlNMRUVQSU5HO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhdC5zdGF0ZVRpbWVyID0gcmFuZG9tU2xlZXBUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0LmRpcmVjdGlvbiA9IERpcmVjdGlvbi5ET1dOOyAvLyDnnaHop4npnaLmnJ3kuItcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0LnN0YXRlVGltZXIgPSByYW5kb21JZGxlVGltZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIENhdFN0YXRlLldBTEtJTkc6XHJcbiAgICAgICAgICAgIC8vIOWwneivleenu+WKqFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdYID0gY2F0LnggKyBjYXQud2Fsa0R4O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3WSA9IGNhdC55ICsgY2F0LndhbGtEeTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0NhdFdhbGthYmxlKG5ld1gsIG5ld1kpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0LnggPSBuZXdYO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhdC55ID0gbmV3WTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5pKe5aKZ5LqG77yM5YGc5LiL5p2lXHJcbiAgICAgICAgICAgICAgICAgICAgY2F0LnN0YXRlID0gQ2F0U3RhdGUuSURMRTtcclxuICAgICAgICAgICAgICAgICAgICBjYXQuc3RhdGVUaW1lciA9IHJhbmRvbUlkbGVUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8g5Yqo55S7XHJcbiAgICAgICAgICAgICAgICBjYXQuYW5pbVRpbWVyKys7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2F0LmFuaW1UaW1lciAlIDEwID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0LmFuaW1GcmFtZSA9IChjYXQuYW5pbUZyYW1lICsgMSkgJSBDQVRfV0FMS19BTklNLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY2F0LnN0YXRlVGltZXIgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhdC5zdGF0ZSA9IENhdFN0YXRlLklETEU7XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0LnN0YXRlVGltZXIgPSByYW5kb21JZGxlVGltZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhdC5hbmltRnJhbWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIENhdFN0YXRlLlNMRUVQSU5HOlxyXG4gICAgICAgICAgICBpZiAoY2F0LnN0YXRlVGltZXIgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgY2F0LnN0YXRlID0gQ2F0U3RhdGUuSURMRTtcclxuICAgICAgICAgICAgICAgIGNhdC5zdGF0ZVRpbWVyID0gcmFuZG9tSWRsZVRpbWUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT0g5riy5p+TID09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKiog5riy5p+T55S35a2pICjpnZnmgIEpICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJNYW5OUEMoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIG1hbjogU3RhdGljTlBDKTogdm9pZCB7XHJcbiAgICBpZiAoIW1hbi5zcHJpdGUpIHJldHVybjtcclxuICAgIGN0eC5zYXZlKCk7XHJcbiAgICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XHJcbiAgICAvLyDku6XnorDmkp7nm5LkuLrln7rlh4blsYXkuK3nu5jliLZcclxuICAgIGNvbnN0IGRyYXdYID0gbWFuLnggKyBQTEFZRVJfU0laRSAvIDIgLSBNQU5fRFJBV19XIC8gMjtcclxuICAgIGNvbnN0IGRyYXdZID0gbWFuLnkgKyBQTEFZRVJfU0laRSAvIDIgLSBNQU5fRFJBV19IIC8gMjtcclxuICAgIGN0eC5kcmF3SW1hZ2UobWFuLnNwcml0ZSwgMCwgMCwgbWFuLnNwcml0ZS53aWR0aCwgbWFuLnNwcml0ZS5oZWlnaHQsIGRyYXdYLCBkcmF3WSwgTUFOX0RSQVdfVywgTUFOX0RSQVdfSCk7XHJcbiAgICBjdHgucmVzdG9yZSgpO1xyXG59XHJcblxyXG4vKiog5riy5p+T54yrICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJDYXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNhdDogQ2F0TlBDKTogdm9pZCB7XHJcbiAgICBpZiAoIWNhdC5zcHJpdGUpIHJldHVybjtcclxuICAgIGN0eC5zYXZlKCk7XHJcbiAgICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XHJcblxyXG4gICAgY29uc3Qgcm93ID0gQ0FUX0RJUl9UT19ST1dbY2F0LmRpcmVjdGlvbl07XHJcbiAgICBjb25zdCBjb2wgPSBjYXQuc3RhdGUgPT09IENhdFN0YXRlLldBTEtJTkdcclxuICAgICAgICA/IENBVF9XQUxLX0FOSU1bY2F0LmFuaW1GcmFtZSAlIENBVF9XQUxLX0FOSU0ubGVuZ3RoXVxyXG4gICAgICAgIDogMDsgLy8g6Z2e6KGM6LWw5pe255So56ys5LiA5binICjnq5nnq4spXHJcblxyXG4gICAgY29uc3Qgc3JjWCA9IGNvbCAqIENBVF9GUkFNRV9XO1xyXG4gICAgY29uc3Qgc3JjWSA9IHJvdyAqIENBVF9GUkFNRV9IO1xyXG5cclxuICAgIC8vIOe7mOWItuS9jee9rlxyXG4gICAgY29uc3QgZHJhd1ggPSBjYXQueCArIENBVF9CT0RZIC8gMiAtIENBVF9EUkFXX1cgLyAyO1xyXG4gICAgY29uc3QgZHJhd1kgPSBjYXQueSArIENBVF9CT0RZIC8gMiAtIENBVF9EUkFXX0ggLyAyO1xyXG5cclxuICAgIGN0eC5kcmF3SW1hZ2UoXHJcbiAgICAgICAgY2F0LnNwcml0ZSxcclxuICAgICAgICBzcmNYLCBzcmNZLCBDQVRfRlJBTUVfVywgQ0FUX0ZSQU1FX0gsXHJcbiAgICAgICAgZHJhd1gsIGRyYXdZLCBDQVRfRFJBV19XLCBDQVRfRFJBV19IXHJcbiAgICApO1xyXG4gICAgY3R4LnJlc3RvcmUoKTtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT0gWS1Tb3J0IOaUr+aMgSA9PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBZU29ydEVudGl0eSB7XHJcbiAgICB0eXBlOiAncGxheWVyJyB8ICdtYW4nIHwgJ2NhdCc7XHJcbiAgICBmb290WTogbnVtYmVyO1xyXG4gICAgcmVuZGVyOiAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHZvaWQ7XHJcbn1cclxuXHJcbi8qKiDojrflj5bnlLflrannmoQgZm9vdFkgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldE1hbkZvb3RZKG1hbjogU3RhdGljTlBDKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBtYW4ueSArIFBMQVlFUl9TSVpFO1xyXG59XHJcblxyXG4vKiog6I635Y+W54yr55qEIGZvb3RZICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDYXRGb290WShjYXQ6IENhdE5QQyk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gY2F0LnkgKyBDQVRfQk9EWTtcclxufVxyXG4iXSwibmFtZXMiOlsiVElMRV9TSVpFIiwiUExBWUVSX1NJWkUiLCJXQUxLQUJMRV9NQVAiLCJNQVBfQ09MUyIsIk1BUF9ST1dTIiwiRGlyZWN0aW9uIiwiYXNzZXRQYXRoIiwiQ2F0U3RhdGUiLCJDQVRfRlJBTUVfVyIsIkNBVF9GUkFNRV9IIiwiQ0FUX0NPTFMiLCJDQVRfRFJBV19XIiwiQ0FUX0RSQVdfSCIsIkNBVF9CT0RZIiwiQ0FUX1NQRUVEIiwiQ0FUX0RJUl9UT19ST1ciLCJET1dOIiwiUklHSFQiLCJVUCIsIkxFRlQiLCJDQVRfV0FMS19BTklNIiwiTUFOX0RSQVdfSCIsIk1hdGgiLCJyb3VuZCIsIk1BTl9EUkFXX1ciLCJNQU5fVElMRV9DT0wiLCJNQU5fVElMRV9ST1ciLCJsb2FkSW1hZ2UiLCJzcmMiLCJQcm9taXNlIiwicmVzb2x2ZSIsImltZyIsIkltYWdlIiwib25sb2FkIiwib25lcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwiY3JlYXRlU3RhdGljTWFuIiwic3ByaXRlIiwiZm9vdFgiLCJmb290WSIsImlkIiwieCIsInkiLCJjcmVhdGVDYXQiLCJzcHJpdGVQYXRoIiwic3RhcnRDb2wiLCJzdGFydFJvdyIsImRpcmVjdGlvbiIsInN0YXRlIiwiYW5pbUZyYW1lIiwiYW5pbVRpbWVyIiwic3RhdGVUaW1lciIsInJhbmRvbUlkbGVUaW1lIiwid2Fsa0R4Iiwid2Fsa0R5IiwiZmxvb3IiLCJyYW5kb20iLCJyYW5kb21TbGVlcFRpbWUiLCJyYW5kb21XYWxrVGltZSIsImlzQ2F0V2Fsa2FibGUiLCJweCIsInB5IiwicGFkZGluZyIsImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsInBvaW50cyIsInB0IiwiY29sIiwicm93IiwicGlja1JhbmRvbURpcmVjdGlvbiIsImNob2ljZXMiLCJkeCIsImR5IiwiZGlyIiwibGVuZ3RoIiwidXBkYXRlQ2F0IiwiY2F0IiwiciIsIm5ld1giLCJuZXdZIiwicmVuZGVyTWFuTlBDIiwiY3R4IiwibWFuIiwic2F2ZSIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsImRyYXdYIiwiZHJhd1kiLCJkcmF3SW1hZ2UiLCJ3aWR0aCIsImhlaWdodCIsInJlc3RvcmUiLCJyZW5kZXJDYXQiLCJzcmNYIiwic3JjWSIsImdldE1hbkZvb3RZIiwiZ2V0Q2F0Rm9vdFkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/game/npc.ts\n"));

/***/ })

});